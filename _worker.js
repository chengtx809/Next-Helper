(() => {
  // _worker.js
  addEventListener("fetch", (event) => {
    event.respondWith(handleRequest(event.request));
  });
  var KV = oai_global_variables;
  const myWorkerURL = "oai.kylelv.com";
  const logo = "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCALjAuMDASIAAhEBAxEB/8QAHAABAAICAwEAAAAAAAAAAAAAAAEHBggDBAUC/8QAVRAAAgEDAgMGBAMEBAgJCwUBAAECAwQRBQYHITESQVFhcYETkaGxFCLBMkJS0RUjJDMWU2Jyc6Ky8BcmNDZDY3SS4SU1RWSCg4STs8LxJzdEVJSj/8QAGQEBAQEBAQEAAAAAAAAAAAAAAAECAwQF/8QAJBEBAQACAgICAwEBAQEAAAAAAAECEQMxBCESQRMiUTIUYXH/2gAMAwEAAhEDEQA/ALmAIIJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQBsSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIJAA45zjBZnJRXi3g8253Nolo+zcatZ0pfwzrxT+4HrAx9742uv/Ttg/S5g/1Oe13Rod3yt9Vta2enYqqf2bIPYBwU7u3rY+HWjLPPkzsF0AAAAAAAAAAAA4qlSFGDnUkoRSy23hIr/c/FzR9FqVLewkr24i8NweYr36AWKDXDU+Lu5r6TVO4VvB91NYfzPHfEDdDn2nq1ZvzZdDacg170HjHrtjWjHUJRu6PR9pc15l0bZ3Vp26LFXFjUTa5Tg+Ti/QWD3QRlI45VYQ/bnGPnJpEHKDpPVNPXJ31un4Oqv5nJTvbatj4VzSnn+GaYHZB8pp9CQJAAAAAAAAAAAAhtIASY3ru8tC25TbvtSpwqY5UY/nm/PCy/d8ivtU46Qp1HDS9OVSMeSnWeM+eEILkBQD43bglUz8Cgku5Jfqj39D43UqlVU9WtXDLwp01lerx/IuvQuEHR0vVbLWLOF1Y14VqU1lNPJ3SCQAAAAAAAAAAAAAAAAAAAAAAFAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAI6o46tanRh26k1CPi3grfd/FzT9HjO00pRvLpZTnnMI93VdWBnep6vYaRbO51C7p29NdHOWG34JdW/JFWbh44U4Zt9AspTkuX4i6WF6qKeX6tr0Kv1fcGp69dyudRvKteo3yU5PEV4Jdy8keS+ZZNXY9vVN3a7rFWU73Vrqom89mNRxj7JYS+R4spOWG22/FvJBBQJTa6MgAd621TULHH4W+uKSXdCq0vkme/pvEjdWl1VOOrVrmPR07lucWvDnzXszEwUX3tTi/Y6rOFrqtD8FdSaipwy6cn6t5Xpz9SzIzjOKlBpxaymn1NOU2nlPBeXB/d9fUaFTRL2q6tahByoTfVxXVN9+M8vIzZ/BbAAIAAAHka7rlhtzTZ32o1lTpx5RXVyfcku9nqykopt9EsmtXEnc1zr+57un2/7LZ1HRowT5JJ4bx4trr4YQ1scm8eJWrbmr1KVCpOzsG8KjCTTmv8pp88+HQwfOQ3kg10AJwMAD29v7l1TbV9G706qotPnBt9ia8Gk1n7niZIKLB1TjBuvUKHwqVS2sk8qUreDUmvDLbx7YZid1uPW71t3OrXtbPdO4k18snlEk9DklWqSll1JP1k2clC7ubWop0LirSmv3qc2n80zrgQZfovEnc+h1sw1Kd1TXJ0rpuqmvDLeV7MtrafFPSNxThaXiWn37XKE5L4dR+EZPv8mk+5ZNdiU5J5TaYslG5BJSPDjibVoVaOj63VlUpvEaNeTy14Rbb+T9i6oVI1YqcGnFrKafUzocoAAAAAQ8d4PL1nWbTQdOqX17UUKVNclnm33JeLYt0OW91Cz021lc3dzC3owWXKo8JeXm/LqUxvLi/c36dloHxLS2eVK4eY1J+mHyXn1fkYzvXe2o7r1CUqtR0rOH91bxfJLxfi34/LkYi2JjN7o561apXqyqVqsqtSTzKcm22/Ft82dcA0AAAzHYu9rraepUszlUsqk18ai3yw+TaXc19TYWG4NJlp9LUHqFvC1rRUoVKlRRTz3Zb6+RqUczuK0qapOrJwWcQy8LPgjOhs8+IW0qc/h/0/auXk2180sHrWGr6fqcXKwv7a6S5P4VVTa9UnyNRcvxfzO3aaheafXjXtbmpRrReVOnNp/NMuht+CjNqcZr20dO01+KuKS5K4ivzr17n6lv6Lrun65ZxuNPuIVYNdFJZXql0Jq7HqggkAAAAAAAAAAAAAAAAoAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAxzee5aW2NAqXsn/Wz/JRj3ubTa5exNju6zuDTNEpfF1C8pUFjKU5pN+i6v2MI1HjZt+gpRsqF1eVEmklBRi/Vt5x6JlKavq97rN5K8vrqVerN5zNt4Xgk+i8lyPNyWQZfubiNr25KslOu7Wg+So0W0seDfeYi223nqQDXQEEndsLC61G5jb2ltUuKsmsQpwbb+XReZR0iVFvoslvbd4J1a0YXGvXPwotp/hqD54zzTbXLu6Z9SytP2ZtzSqcIWmi2cez0nKipzfrJpt/MzbINWfhVf8XP/us+XFrqsG339H2XdZW6/wDdL+R1a+2dDuYtVtHsKjffK2g/0JsalA2X1bhbtPU7eUVpdO0qY/LUtswafjhcn7plX7h4O63plaU9LlG/t3zSWI1EvNdH7MsuxW5Y/BWhVqb0+NBZp0qElN+GVhfVnk6fwx3RfV4wnpsraLlhyrckl446su/ZGzrfaekq3iozuKmJVKuOcn4ei8C2jLAAYAAFHS1VSel3XZ/a+FLHrhmpFyqiuKsZtuam1LPXOef1NwJxU4uLWU1hmuPEnaF1t3cFe5jSzYXk3UpTiniLby0/B5+gGDZAO1ZWNxf3ULe2pTq1KklFKKy8t4RoZdtDhrqm6qEb1yhaWM5NKtUTbqJPD7KXg1jLwjJ9z8GoWWmRudFr1bitST+JRrYbqLxjhLmvDv8AHPJ2ltXRloG27HS1LtO3p4k/Fttt/Ns9jHImxp5VpSoVJU6kXCUW04tNYa7mmcODZvcvDrQdzzlVuLd29z1/EW+ITfr3P3WfMwG94DXnxW7PWqModUqtFp/RvIlFQkls23AbUpTxdavbU4Y/ap03N/J4+5l2jcG9saa1UuoVdRrf9e8QT8orGfdsW6GvAZtbDZm2Ka7MNvaal/2WD/Q8fXuGO2dZtnThplKxqrnCtawUHF+aXJrya90NjWpAyfd+ydT2je/BuUq1CeXTuIJ4a8H4PyMYwX0CbTynhlwcMeJEaCp6NrlV/DeI29xN9OvKT8O5P2KfGANxozjUgpxknFrKafJo5TWfbfEvX9uSjThcfi7VcnQuG5pLyecr2ePIufZ3EHSt3U4wouVtepfnt5tc33uL718n5EGYEkEkHFKahFt9Ipt+iNduJ+8a2v6/UsqNT+w2c3GEU+UpLk2/sX3rjcNEupReJqlLs+uDU2tOdWtUqTbcnJtt97bEmxwkAk0IMg0DaWsbjqOOm2UqkE8Sqv8ALBerfL26mX7A4YVdaUNT1mMoWHWnSjlSreeeqj6c33Y6l5WdnbWVtC2tLenQpQWIwpwUYpeSXIfKS6Gu+6uGerbV0ynf1atO5ptqNT4KbUG+nNpZ9cGDvqbf3tjb6hZVbW6pxq0asXGUWsppmu2+NgX21b2dSjB3GnyblTqpOXYWeSly5Pz6MzLb2MIABoATjv7vEjAE5PW0XcGo7fvI3Wn3c6ck+cFJ9mXk10aPIBRshsTiLY7rhG3rYttRS/NRb5VMLm4NvnyWWuq81zM7NPqFerbVoV6FWVKrTkpQnBtNNdGmujNiOHG+ae69JVG6qRjqVsoqsunxF3TXqlzXc/JozYM6B8n0QAAAAAAAAAAAABQABAAAAAAAAAAAAEEgAfDkorMml6s4vxNB9K1Nv/PX8wOwD4jJNcmn6PJ9J5AkEACQCAJAAAEN4GQJOC4uKNtDt1qsKcF1lKSSXzMP3txF07aEJWsErrUZxzGhGWFTT6OT7l4Lq/Jcyi9e3nrm468p397L4cnyowbjBey6++QL81LiXtXTeU9Tp1pp47NF9t58ORT3EnfNLeF5b07JVYWdunhVEk5SfV4TZguT59xoAAaEkxTk8JNt9yM92lwq1fclrC/qXFKysqizCcouUprxSWOXq0Wtt3hnt7byVR27vrnk3VuUmotd8VjC9eb8yW6FT7T4V6xuBQubmLs7NtNucWpSXksfUvDb209I23aqhYWkIyaxOp2V2per6nupJdFgkmxJBIIIBIAHyfQKPnAJAEgAAAAB0NS0201S1lbXlCNanJdJQTw/FZ6M74IK5u+De3rivKrTUqafNxi2kvZPH0Mh0DZGh7caqWVpD42MKo0nJejZkhJQAAEAAACQB8tBrKPoEHk63otnr2m1LG9pxnCa5NrLi+5rzNbd37SvdqarO1rU3Ki3mlWSeJr1NpzyNe29p247CVpqNFTi1+Wa5Sg/FPuYl0NTMAzjd3DXWNs1alenSd5YZyq1JZcV/lJc169DB8Gpdj6PT0LU6mlatQuaTaams4647/c8s7+i6dW1XVaFpQg5ynNLCWeWTUG12m3TvNNt7jKfxKak34vHP6ncOnpVr+A0u2tP8TTjD5I7pgde4pRuaFSjNZjUi4v0aNZd6bWutu6zcQlRaoSm3BpZST549PA2haPP1HSbHVqMqN9a07iD7pxTa9H1Ql0NRcma8Otl3G5tVhVrQasaM06ja5PHPBcK4U7SVZ1fwE3zz2fiPHyMpsdOtNMto29lb06FKPSEFhDY5KFKFvSjSpxUYQSiklySRzoLkAGDgr29K5oulXpRqRksOMopp+zOwCDCdR4VbXv5Of4GFGTz/d5X2aOC14RbVtZfE/CSqyXdKTa+TeDPAX2PHW29Hdl+C/oy1+BhrsfBWMP26labq4LqfbutCqYay3Rk/ouRcaRIk0NP7+wutNu6lreUZUa1N4lCSaafudQ2W31sWy3bp0p0oRo6nSXao3GMdvH7ssdU+59z5rvT1zv7KvYXlW1uaUqVWlJxlCXVNGp7HVwext7W7rb2rUdStW+1Sf5op4Uovk0/VM8cnPIo2z29rlruHR6F/azTjUim45y4vwZ6xrfw13rU2zrMaF1OT065ajUjnlTbeFNLy7/LJsXCcK0I1ISjKMlmLTyvJmKOYAAAAAAAAAAAAUAAQAAAAAAAACCThr1YUaMqs3iME5P2IOhrWt2egafO9vqqhCCbxnm/JLvZSO5uMGsapJ0tMxY26bScH+drlht93tg8fiHu243DuCvCNSX4SjNwpwzyeMrJh5ZP6O7d6nqGoVJTur2tVk3ludRvL92dVVKi6VJfNnwQa0PUsdf1fSqqlZajc0Wv8XVaXyTwZzpHGvXrGk6d9b0L9JYjOb7Es+La5P5e5WYAzTV+KO6NVuJTp30rKm+lO3eEl69WeTDem5oSUo67e5XTNZ/zPBA9aFi6Jxk3DYNQvOxf0U+fxOU8d+H/ADyWbt3int3XVGnKq7Ou/wBytyTfk+hrYSm10bRFbhUL22uVmhXp1F4wkmdg1M0zcuq6VUUra9qRS7m8oubh3xJW4aj0vU8U7uKzTknlVEuq59/6Cz0izTC+Ie9o7V0dxt3GV9cLs0k+fZ8W15GXVa0aFGdWb/LBOT9Eav741+puHctxcObdKm3TprwS6/Nkg8O5u617c1bm4qSqVasnKcpPLbby2cDeSAaAM5aNOpWqKnSpyqTbwowTbfokZNp/Dndeo9mdLR61OL59quvhrHjl4KMTMr2ZtO63PrNGlTi/w0GnWnjlhc2k/H7fLObbf4H3Px6dxrd7Tp01iTo0V22/JtpJe2S1tG0LT9Bs42un28aNNLnhc2/FvvJaOzYWVDTrKlaW8VCjRiowiu5JHbSC6dCTIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPmUVJYaTRhmvcMdta85ValmrSvLrVtsQbfmsYfyyZqAKhlwGs1XzDWKypeDorPzz+hmW1thaPtOHatISrXEliVxVw5Y8F4L0MsBdgACAQSAIJAAAAAAAAAAAACCp+Luy/x1pPXbKL+PRX9fBL9tLv9UvoWwcdSnGtTlTnFOMlhprKaH2NOcNNp9QZ1xN2d/gvrf4i2inYXknKio9KbWHKL+eV5PyMFNS7E5a6F+8Hd1S1bQ5aPdT7VxYJfDbfOVJvCXs+Xo0UD3macK9Slpu+7LMuzTue1Rn55TwvmkNSwbLAkGdAAAAAAAAAACgACAAAAAAAAAV9xY3OtE267SjUSurxOKSfNQaab/QzDUdRttLsa17ctQo0IuU5N9y7l4tvkl3s1k3XuKtufX7jUaylGMm1Tg3nsRzyXsvqJdjwG8tsgErkagEGb8M9qLcmvxncUlO0oLtVE+jeVhF5y2PtqpBR/oi1wlh/1a5kt1RqsC8N0cGLS5jK50OXwKvNqi3mL+fQqjUtq61pNw6V3p9aDTx2uy8P0YlHjYGD2dN2xrGrVo0bTT605S/eUHhebfRItCx4G0J6XTlfajVp3slmappOEG/VZePHJRS2BgzXcHC/cOhOU42/4u3TyqlFZePNdUYhWtq9vLs1qU4SXdJYG4OA9HR7yrpmq2t5Rb7dGrGax34aePfodDBl2wtr3G4dft2oNW1KpGdSWOTSabXoJYjYHcEqsttXbjFyn8HKx6LP6mqdTtKpPtdcvL8zcCpSjUpSpSWYyTTXljBrfv7Zl7t3WrirTpudnVk6kJrn2U3nD9zO1YW0clGlOtVjSgsym8JeZ8KLckkufgWdwv2LXvtUpapfU3G3oNSgpLlJrp9S7kFhcPtjWm2dKo3FejGep1oKVSq1l08/urPTz8zOSMcyRaJIJBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAJIfNAYPxXsYXvD+/c6alOg41oPvTUkm17Nr0ZrabTb7h2tk6us4/ss38k2askwu5VDu6RXlbavZ14vEqdeEk/SSZ0j7pP+tp/5y+5vekbiweYJ+R9nBbc7ek/GCf0RzmQAAAAAAAAABQABAAAAAACG8EmGb+3pb7V0qbpzhO+qwao0855vva8F1AwPjFu9XV3HbtnPNO3anc9l8pyxlQfklzfm14FRvmdi4uKt3cVbivN1KtWTlOTeXJt5bbOuWSSCDnoUJ3NanQpRc6lWSjGKWW23hJHCW3we2fG6ry3DfUm6dNuFrCceTa6zWeqXReefAtskFicP9sR2zt2jRnFK5qxUqzx0fgZUlzCeSTIHxKEZxxKKa8Gso5AQcUKcKfKEIxXglg5MchgkojC8Dx9U2zo2sKSvdNoVW+suwk/muZ7JBBgceD21I3KrqhW/wAz4n5flgy3TNIsNHt/gafa07em+bUI82/FvvO+0MAQly5nDc29G5p9itSjVi+6UU19TsADwobP29CbmtIte03n+7WPl0PVo0aVClGlSpxpwjyUIpJL2R2CABIBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgkh9AMe3ry2Zq6/9Sq/7DNVTave3PZur/wDZKv8Ass1UM8fVEkxXNPwaIJj3eqOg3Csv+RW/+ij9kdg69l/yK3/0UfsjsGQAAAAAAAAABQABAAAAgHWuLmna0KlevNU6VKLlOcnhRSWW2Njy907ltNsaRUvbmpBSSahFvnJ9yS7zWncOvXe4dUq313UlKU2+ym+UV3JLuPV31vCvuzXJ3EW4WdJuFvTb6QT5NrxfJv5dxieeZYBJCOehb1bmrCjRg6lSbUYxSy230RR6+1NAuNza9R0+hBuMmnUko5UIJrLfovm8LvNn9N0+30rTqFjawUKVCnGnBeSWFkxThvsqO1NFjVuVGpf3aUqkkv7tdVBenV+L9EZuLd0SuhJBJkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAh9CQBi2/7mNpsjVJzlhO3lH1bWF9WjVwvHjPuWlT06noNvNOvXkpVknzhBNNJ48Wk/ReZRwxlkEnJRi6lWMV1lJR+bOM9zaOnS1bdWnWkVlSrxlJYzyTy/ojUg2ntouNtSi8ZUV9jnPlLCSXcsH0ZokAAAAAAAAAFAAEAAACquM+43Y6NT0ShVfxb15rJdVBNPHu8eyaLTlLsrOMmr/EPWJ6zvG+qublTozdOGe5Lk/qBi58k95JofUYttJJtt4S8y8+F3DxaTCOtarSbu6sU6NOa/u00nlrx+xiXCTaEdb1WWr3cM2djJKCa5VKuMpeiXP1aL+ioxSiuiJaOQEEkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABBIAAAAAAAAAHHKaim20ku9sx3Ud/bY02rKjc6zbxqR5OMG5NPwaSZBkwPD0ndeh652f6O1KhXk/3FNKXyfM9sokAAAAAAAAAAAAAAAAAAAAAAAAEBvAEmHb43tZbT01tThUvaiao0cvLfi8c0ly+x5e9+KGn7ep1LLT3G71JZi0nmFLxbfe/Je+CidW1a81q+qXl9VdSrPpl8ku5JdwEanfXWq6hWvr2pKpXrSblJ+Ph6LoeeTnI7zQFscENv/H1S61iqm6dCHw6Txyc31afkuXuV1o2l3GsalRs7alKpOpNLC/V93qbN7W0OjtzQLbTaaWacczaWO1N82/nyXkkLse6ADIAAAAAAAAAAoAAgAADp6jUdPTrmoubjSk16pM1Jv6jrX9zVeczqylz822ba6lHt6dcQSy5UpL5pmpeoUvw2oXNFrDp1ZRa9G0WDqH0QEUbO8NtMp6XsTTIwSUq9P4833tzeVn0TS9jLEjGOHd9DUNiaRVhy7FBUmvBwbi19DKEZEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEASAAAAAAAAAeVret2mhabUvLuqoRispPq/Yg9Q8nUNyaRpkZfitRt6WOq7abXssv6FEbm4o6zrdedO2rO2tMtRhDq13Z/wB2YPWuK1zNzrVJTk+bbeSyDYDUuNG2LNSVurq8mnjFOCin7tp/Q8i149afOu4XOiV6dLP7cLhTfyaX3KRC6l0Nrtvbu0jc1r8bTq7k11pyWJr2PdNUNq63caFrFK5oVHD8yys8mbS2N3G9sLe6g0416cakceDSf6izQ7QAIABAFUcXN43Gl0o6NY1JUp10/iTi8NLvWfPP0KO7Tcm28tlg8ZbSrQ3f8WWPh1oZi13tYz90V7gsnoc9vcVrSvCvQm4VKclKEk8NNdGjZHhzuupurbvxbpxd5bT+HWa5Z5JqWO7K+qZrQ1ku7gXbVaemajXlFqFSpBRb72k2/ugLbABAAAAAAAAAAAAAAAAAAAEA6Gqapa6VZzurqahCKb5vGcFK7t4u31652mjSlb0eadWPJv0ys4+XoT3RbG4N56Jtuk3f3aVTH5aUPzSb8MLp74Ka3ZxZ1jW3K306bsLOTaag/wA815y6peSx7mBXN1XvK0q1xVlUqSeXKTy2cDLIJ7Un15nyCcGugOe2tq15cU7e3pupVqNRjFLLbZzWOnXep3UbWzoTrVqjSUIrLb8fQvvYHDe323Qjd6hGNW/kufLKpvwTFo5uHOw6W2LBXV3GM9QrxTk+vw0+5fzM8wMAzu2gSAAAAAAAAAAABQABAAAHw4ppp801hmrvEDTJ6VvTUqEo4jOo6lPzi+af3NpCnOOOgNwtdbo0+j+DWaXc+ab9+XuJ2KXABoXHwR3FCH4rb9zUSlOX4i3T73jE0vZJperLoNQbG+udNvaN5a1JU61CanCa6pr/AHZshsre1nunTqc1OELuCSrUc81LHNpd6b6MWSDLwQSYAAFAAAAAAAAAAAAAAAAAAAAAAAAAgkgDr1qlKhSlWq1I0qdNOUpzaSiu9tvoYPe8ZNqWdZ0oVLq6w2u1Rppxfo21kwni3vKvc6rPQbOvJWlthV0ulSpyeG+9Lly6Z9EVd2m+rEg2Y2/xH27uKura2u5Ubh8lSrrsOT8E+jfkmZeaeUq1ShONSjNwqRaaknhpp5TNl+He4Km5do2t3cSc7mnmnWb6uS5ZfqufuWwZaACAAAIKY456lXVSzsIyapSTlJJ96w190XOVfxj2zW1PT6Wo21Nznb9UurXf9PsPsUKD6nGUJOMotNdUz4NAAAOzYU3VvqMF+9NI2w0C1dnt+wtZJJ0reEWvNJGv3DLbVbWtwU67pt29F821ybWG18vubIxSjFJLkhR9gAyAAAxLfGy7XeGl/CqNULqll0azXR+D8n8yj9T4abt0qrKNTSZ1oJ4VS3ampLxSTyvdI2dIG9DXLb/CrcmrV6U7qwlZWzmnKdxNRaWeb7PV8u7Cz4ovTQdGtdu6VS0+1X5KSWZYSc33t/78kkeyBaJAAAAAAAAAAAAAAAAAAAAAUTxo1+rX1qOlU6jVGlFduCeE315lVFocZ9Fr0dwx1GnB/ArQTbw8J9Hn3X1KwyamhAZKPc0PamsbgrKFjZuUX1qy5QXq3+gHgmXbU2FrW6qsJ0KDoWbeJXNVfkwuuF1b9OWerRZm1eDunaa4XOryV9cLn8NrFKL9Or9+XkWVTowoU4wpRjCMUkoxWEkvBIWzehj21NkaTtK1ULODqXMlipc1FmcvJeC8l75MoSIXdyJM7EgAAAAAAAAAAAAAAKAAIAAAh9DydwaNQ1/R7nTbiK7NeDiptZ7L6p+zSPXIXIg1J1rSLrQdVuNOvKbhWoTaa7mu5rya5pnlGxnEvYkd0WH4yzjGOpUE+xyx8WK/db8fB+3ea+XVtWtLiVC4punUg8Si0018zco6x6GnaneaTeRurG4nQqx6OEuvk13ryZ0AXYvrZ3F7T9Vp0rLWZRsrxJL4j5U6j8c9z8ny8yyoVI1IRnTkpRkk1KLymn3pmnZk+39+7i25KMLLUJyt48lb1n24Y8k+ntgmpvY2jJKRsePV7TSjfaLRq+dKq4P5NM96346bfqJfiLC/pSfXChKK98p/QyLQBgFHjLtKq+da6p/59H+TZ6NvxK2lX/Z1iEX/ANbTnH64wBlxB41HdWgXcP6jWbN57pVkn8m0zvQ1GxqpfDvKE8/wVE/syDuA+U00mnyJKJAAAAAAAAAAAAAAAAOKom4SUerTx6nKQBqduz4q3ZqirZ+J+Knlvr1Z45dHFDh1d32oT17RqXxO3DNzRj1yuXaiu/K6r3Kinpl/Gqqc7G4jLOOy6TTz8jW5odXJsPwb0+rY7JjVqx7P4qtKrBeWEl88Z9ysdmcN9U169hVuqE7WxjNdt1INOaTTaSfd5mw9raUbG1pWttTjTpUYKMIpYSSWEhaOyADIAAAcVSnCtB06kVKMlhprKZyggrjcXB3Rdaual3bXFawrTy3GKU4N+OHh/UojU7GWmajcWc5duVCo4N4xlptP6o29NWN+20rbe+r02sf2mckvJvJqUY2ACjY/hDb06exLCsoLttVMvveakv5Gdp5Ky4J6tG521LTm32rWbSXk23+pZpn39j6AAAAAADxdy6/abb0erqV3J9mKxGK6yb6Ig9ZyUU22kl3sRnGazGSa8jWjXeJO49bupTje1LOk3mNKjJpJevVnFovELcWj3UakdTr1qaknKlVm5KS71zfIuhtADwdp7mtt0aPTvaH5ZYSnB9Uz3QJAAAAAAAAAAAAAAcU5qnBzk0opZbbwkYnqPE3bGk1fgVLyVaaeGqMO0s+T5J+xBmJBi+h7+29r81C0vHGo2ko1V2Xl9yyZOB52q6NY65aStr2iqsGuT71ldUysr3gVQlWlOy1KUabfKFSOML1Wc/It/ALPQrPQ+C+jWFaNfULipeTg01DHZhnz739CwrKwtNPoqlaUIUYJYSisHZxzJFt2AAAEgAAAAAAAAAAAAAAAAFAAEAAAAAAK+39w2td0UnfWahQ1CKz2kuVTyePuWCANRNV0a+0a8nZ31CVKrF96wmvFPvR55tVuHa2l7ntZ0NStlKWP6utFJTpvyePo8plKbr4Vaxt7t3Nqv6Qs+sZ0k3OC/wAqK6eqyvQsowAYPuUJU5OMotSXVNYaPgojAwAAwMAAfSnKPSTXozmhfXVOXajcVE/89nXA0Pftd5bhs1GFHWLuEU8pKq8fLODO9s8ZdRp1IW+sRVem2k62FlZeMvGCpj6XNAbf2V7RvrSndW81KnUSaaeeR2SsOCuoVbnb1a3rVJyVKa7GeiXTC+hZ5kSAAAAAAAAAAAAAAAD5wccqFKbzKnFvzRzADjjBQWIpJeRyEACQQSAAAAAggGv/ABn0aNluqOoU8di9gpdP30kmvlh+5e97eW9hZ1bu6qxpUaUXKpOTwopdWa3b93hPeGsKvCEqdrQ7UbZSWG02strL5vH2XcWdjD2sEEt5ZBoWbwSuqtLdNa3jP+rq02mvNJ4Zfq5lA8G9R0+z3DVhd1o0q1SGKcpNJN4xjLfUv9c0KJABkAABBSPHDWZy1Sz0mnP8tOk6tSKeVlvCz7L6mdbt4iaPtihKjGtG8vpJqnb0pp4f+U0+XP38Ea+a5rF1r2rV9SvJJ1a8u00uiXRJeiSXsJPY80ggnBoXHwIuZurqNt2n2IqM8Z73y/QucqjgVpro6Je3844der2YvxSS/XJa5PsSACAAAAB8SaistperwB9g+VJPofQAgkgCoOMm6biyjb6Ja13TdRfEr9l83Hok/JvLa8kUvOcqk3OcnKTeW2ZpxZjWhxAvfiLKcYOD7msL9cmEZNT1By21zXtKqq0Kkqc10aeDZfhzuSe59qUbi4knc0G6Nd+LSTT900zWMs3g3umnpWrVtJu5KFG+alBvkozSfL3RKL9TySfKafufRAAAEEgAAAAAAAAAAAAAAAAAAAUAAQAAAAAAAACGskggxbW9gbb19yneadTVafN1qS7E8+OV198mC6nwJoSi5abqtaD7oV4KS+aw/oXECwa8XPBbdFHLpytKyX8NRp/Jo8e54bbptJtVNNcsd8Jr9WjaAhouxqbX2pr1u2qml3HLq1HK+h062l6jb/31lXh602v0Nu3Th/AvkcU7G1q/3lvSlnxghsagSpTjzlGS9Vg+DbartvRq+fi6ZbSz/wBWjzLjh3tS4y3o1vBy6uCwTY1cOe3t6tzWjSo05VKkmkopZbbNgq/Bza9ao5xjXpJ90WsfVHtaJsHQdCblbWqlN/vzSb+iQ2Olww21Pbu2YwuF/aK8u3LyWOX6maHykkklhJdyOldatp+npu6vKNLHdOok/qxaPQB49lufRb+bha6lb1JJ4cVUWc/M9ZSTWV0A+gAAAAAAAAAAAAAAADytW13TtEo/FvrhU+WUlzbXkj0JyVOEpvpFOT9EjWDem6brcmu3VZ1Zq3VRqlDOEop4X0Gti5Xxj2mqqpqrcNZ5yVLkvqZTpm4dI1mjGrYX9Gsms9lSSa9U+aNTMnNa3lzZ1FO2r1KMk85hNp/QaG4SeUDWvSeKW59LahK6d5TXJqtlv5p/fJlthx2UYKN9ptRyXV02nn5tFsFznSv9StdLtZXF3WjSpxTbcnjPoVbfcdrP4Djp+m3PxX0dXspL5N/YrTcm8dW3NcOpeXElSfSkm+yiaGR8ReIlbc1aWn6fN0tNg8vHJ1mnlOXkn0Xjz8CuycDBrQgAAckHJNOMmmujRnW3OLW4dDoxtq846hQjhRVw32opdykub98mBpkJgXRbceqS5XOhvHjTrdPZr9Tt1OPWlxX5NFu5etWCX0yUYM4ILfvePN1JONno1Gn4OpWc/skYfrXErdOsdqNTUp29KXJ0rb+rWPDK5terZh4A5JTcnltt97fefGAC9Bg7djY19QvqNnbQc6taahBJd7eDio0KlxUjTpxcpSaSSWctl68M9gPRKUdW1Skvxsl/V02udFNLLeVyb8O5ebG5J7Gb7a0Wlt/QbXTaaTVCCUml1fVv5nskIGbRIAAHFWqQoUpVajxGCbb8Echg/FjWaujbMqSt5uNW4qKkmuuGm39EOxgG9+Kup3N/UtNHuJ2lClJxc4PEpNd+e72K/uNc1a6qdu41O7qSbzmdZv7s81ycm23lsN5LIMj0Xe2u6FXVS21G4lBPLhOo5RkvBp5RsDszdNLduhwvoxVOvH8lemv3Zdcrvw1zRq1ktPgdqdWluO601y/qq9u5pPpmLWPo2Wz+C9wSQYFP8bdt1atG112hTUvhJ0biSXPDeYt+Sba90Uobg31lb6haVLa5pxqUqsXGUWs5TNZN67YqbV1+vYzy6Tfaozf70H0f3T80alGNHLTqyoyjUg2pQacWnhpp5TOIgo2b4c7m/wAJdtUKtaSdzSj2K3i2uWf9/EzEongjqNSnrFzZOT7NZNpPxSb/AEL2JewABAAAAAAAAAAAAAAAAAAAAAFAAEAAAAAAAAAAAAAAAAAAACCQAAOGpUjTjKcuUYptvwSWQMO4h72htTSmqHZne1k401J8oNrq13464Ne9S1a+1W7ld6hdTuKs3lyqSb9l4LyXI9viFr09d3TcTc26VGThBd3Xm/t8jFCwc9tXq29RTo1JU5ro4Np/QuPhVv66vr1aHqtSVWU4t29ZvnlLLg/Hkm0/bvKWRlXD+jWqb5090YtuNwm2u5J5b+SZuYywbQAA5gAAAAAAAAAAAAA613SdzaVaMeTqQcc+qNSdTsa2n6lcWdePZqUakoyXmmzb7BWfEThotw1Z6rpslC7xmpDHKo0uvrywIKAJPU1PburaVVdO8sqsGu9QbT9zzMNdVg1sfIAAAEgMA5qNGrcVI06NNznJ4SSy8lo7I4TXF+6epa3mjQ/ap27X5peGe9LyF9DHtk8O7/dlf41ScrWxim3W7GXJ9ySeM58Tq7r2Lq21bqUa1J3FrOTVK5pxbjJd2Us9l+T9m+pspZWdtYW0Le2pqnTglFJLC5cjkq0KdxSlSrU4zhJYcZLKa8ybGnecBGxWvcIdv6tOVW3jOyqS5v4KWPkzC7vgXqdOcna39OrDu7UUn9wKpBYU+C+5ov8AZpv0af6nx/wO7mXWnH2Wf1KMAwRkse34LbhrNKdSnBeOP5tHu2PApPDvtVnjvVKml9W2N6FOIyrbWwde3NNO1tXRt8rNxWTjDHl3t+SLw0ThttnRezOjYwrVVhqrWXbefHnyXskZZCEYRUYpKK6JLGBtGHbR4b6RteCryir29zlV6tNfkf8Akrnj15vzM1wRgGbdrH0AAAAAFT8epyjoemQT/LK5k2vNR5fctgqbj3BvRNLmlyjcyz7x/wDAsFGAAokzfhHXdLiHYLOFUjVi/TsSf3SMIMy4VyxxG0zzlU/+nM1OhsyCCTkIwU/x4t6crfSbh4Us1Y56PpBpff5luTlGnFynJKKTbbeEkUVxe3bpuvVLWx0+o6ytZzcqi6ZaS5eK5dSzsVaSupANjP8Ag9Nre1JLvi2/TD/mbGGomnalc6VeQu7OtKjWpvKnHqn4ehd+weKMNcqLTtXcKN4+VOaeFUfg+5MlmxZoAMgAAAAAAAAAAAAAAAAAAAAKAAIAAAAAAAAAAAAAAAAAAAAACDw92Xr07a9/c55woSWc45tYX1Z7hhfFepKnsS77L6tJkGttSpKpUlOTzKTbb82cZBJuCYrtPsrq+hfnCvYr0S3jrF8v7TXhmnDHKnF9/q18l6lH6U6cdUtnWbVP4ke20s8so21tpU521OVGSlTcU4tdMC7nSOwSQSZUAAAAAAAAAAAAAAAB17i0oXNN07ilCpB9VJZyYlrHC7bGqQl2bT8JUb/bovH0fIzUEFL6nwKmot6Zq0JNdIVoYz7rP2Mbr8GN3UZPsW9vVS74Vl+uDYsk1KNb4cH941JqM7GnDwbrQx9Ge7pHA3U60u1qt/Qt6f8ADRbm/wBEvqXmBsYptvYmh7bpL8NbqtcRTfx6iy8+SXJfcyk+gQCCQAAAAAAAAAIJAEEgAAAAAAEFb8brf4uzqNbGfg3KfzTRZBhfFij8bh9f/wDVuEv9ZL9Rv2NaAAaErqZjwr//AHF0v1qf/TkYaZjwxeN+6W11+K17OEkzeN9UbMnzOahByfRH0mkuZTPEziPKXa0jR6uIPKrVk8NrpheT58+/0OUmx0OJvEOpqNWWjaVcONpFtXFSDyqrT6Jrql3+L8iqySCyCASDQHNRr1LerGpSk4Tg1KMk8NNPKZwgDaXYm4P8JNrWt9OSdbHYq4/iXJ/z9zJSoeA9zOVjqlr224wqQmk+mWmn9kW8YvqiQAAAAAAAAAAAAAAAAAAABQABAAAAAAAAAAAAAAAAAAAAAAQY5vrTnq20L+2ik5fCckn4pZ+2TJDjnCM4uMkmmsNPvRBp5OlKE5QlycW0+XgcZnnFPaz29uF3FGD/AAt2nOHgnl5XyMDNicmwHB3cs9V0GWm3NTtV7BJRz1cH0+T5e5r8WHwWvZ0N7qhlOFxbTg0/FYkvqhrY2IABkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABDaXVnh6tuzQdHpSlfapb0musFUU5+0Vlv5EHugq/VuOWg2kZR02zur6p3OSVKD93l/QxC+447irtq1s7O3i+jalNr3bS+hRfz5GJcS3TnsHUouUW2oY5rqpxf6FGXPEfdt5lT1qvBPup4ivosnh3Orajft/ir64rJ9VUqNp/Nl0OpU/bl6v7nGTnJBRK6mT7A1G10nemnXt7U+Fb0qj7c+6OYtJvyy0YuSal1LBcfELilb1reWm6BX+JGaca1wk0msdI5XNPnzKfnUnOTlNuUn3vqcZJmSSCckZICA93b23rnWZTlhxtqWHOXi+eEvPqedqNP4d7VppYUJOK9EeppO69Q0W3nb28aU6cnnFRN4eMNrDR5FxWlcV6laaXaqScnjplvL+5u616R12uYaPo9zbW2dQ3PqULSypScXNKpWeVCmn1bfp3dWZFr8C7CdDQb29qRwrmuowfior+bZap5eh6Tb6DpFvptsv6uhBLL6yfe35t8z1EzF91UgAAAAAAAAAAAAAAAAAAACgACAAAAAAAAAAAAAAAAAAAAAAEEkAVVx1pp7ctqmMtXUEn4flqZ/QoovLjvOK0K0pZ/M7mEvZRmv1KNRQXUzbhLLscQbDlnKmvnBmEHraFrNxoGrUdRtYxlUot9lT6LKaefmaiNtSTW2rxc3RUm2q9OC7kk8L6ncseM+4rVr49KjcxXVNyWffLJpWwoKu0fjdo90lDUretY1M4bUHOC908/QzrTtw6Rq1JSsdStq6aXKnWTa9UnlGfsewD5Tysn0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAPiU1FOUmkkstt8kV1u/izp2iOdnprV9dpYbi18Om/Np835IaGe3uoWmn0HXuq8KVNLOZSxn08SvNx8ZtM02ToaXQ/F1V+/N/kT9uvzRUGv7s1jcdxKrqN5OUW+VJPEIrwS/meCWQZdrvEbcmu1ZfFvp0aL5fCovsxx4PHX3yYrUqzrTc5vLfefAL6DIyQBoTkZIBQABAAJSbeEm2BBJy1KFSE+zUhKMvCUWn9T57E/4JfJgcYJw/AguhORlsgATk9fSNw6toFV1NNvqlu5NOUYPk8dMrozyGQNi59uca5SnChrltHlhfGpcm/Np8vlgtPS9b07WKEatjdU6yazhPn8jUc9XRdw6loFzGtY3MoYeXHLw/VEvujbQFf7H4mafuZRtbxwtNRUf7tvEZ4702+b8upn6aayZ9y+x9AAAAAAAAAAAAAAAAAAoAAgAAAAAAAAAAAAAAAAAAAAABBIApPjtXxd6fbro4ub9spfcp8s3jdWc91W9JvlToN49W/5FZGp0AAKJyQAQDkp1J05qdOTjJdGnzOMFGW6XxG3XpDjGjrNarTjj8ldqrHC7ueWl6NGY6bx1vqbUNS0mhWj0c6FRwfk8PK9uRUJOSX2Nj9K4ubV1OSjO4r2k5d1enhL3TaMss9V0/UYRlZX1Cun/AIuom/kmai5Oe2vbizqKpQrSpzXRxbTM6G4JJrbpHFfc+lzSq3SvafRwrc8+/UzvR+OGnV8R1S0lbt826SckWwWwDwtM3ZomswjOy1GjVT7lUWV6rOV7o9mFSFRJwkpJ96IOQAAAAAAAAAAAAAAAAAAAAAOvc3NGzoSr3FRU6cVlyk+SOSTSTbeEurKJ4o7+nqN5LSdPrv8AC024zcHyk0Ox8b/4n3WryqadpFWVvY5aqTg8Tq+TfcuvJde8rFtvqxkGpNQBgHPb29W5qqlRpzqTfSMItt+yHY4MYCLI2/wh1bUYwr6jNWdJpNxeHPHp3e5ZOicPNuaJGLhYwuK0V/fV0pPPjjovkak2lsURp219c1WSjZ6XcTUv33Bxjj1eEZdpfBfXLp9q+ure0p4y8P4kl7JpfUvGMVCCjFJRXRLoiUzemLl/FZWnBLRqTjK61O8rY6qmoQT+jZ3Nw8Ots2G1bupaaalcUqWYVZVJuSaay+uOnkWFJHS1airvSbu3a5VKE174bX1M2LLtqgDlrR7NWSz3v7nEzDYzno1HTqwqR5OLTT8Gmnk4GfSLCtrqVGzu7WjX/D0pxqU4Ti3HPJrP6itpWm3EOxV0+1nHwnRUl8mjpbPryudmaPUk8ydpBP2SX6Hsm5HO3TwbnY+1rpdmehWSX+RT7D+aweHf8IdqXrToULiza/xFVtfKWTOUHyL8U3VS33AxKMpadrL7SWVC4prDfg2ny+TMP1fhhujR4OpUsVcU08OdtLt/Tk/obFJnapNOHNZM2am2pdtQri3rWtR0q9GpSkuTU4uL+TOA2v1naui6/SlC/sqdVtcp4w16Mq7cnBWtRhKtotw68UnL4dRpNeSaXM5SxtURB27+wu9NuZW15b1KFWHJwnFpr5nUNDno1Z0KkZ05uE4tSUovDTXNNPuZeHDPiJLWIQ0bWKq/GRT+DWfWslzw/NL5ooh88HYtbqrZXNO4ozlGpTkpRaeGmhqWexuESY1src1Pc+3qF7lKsl2K0F3SXf6NczJDIkAAAAAAAAAAAAAABQABAAAAAAAAAAAAAAAAAAAAAAAABrvxoed6peFFL/Wb/UrzBYvGqg6e84yawp0U182V0UMGYbM2tabhoXMritOEqbSSglyTT58/Qw8zPYe4bLRKtxG8lOKqpJOMO0k1nqvc78Px+X7Mcm/j6e7PhZYvnT1Ksn500/1R5V/wv1GjmVnc0bhdyk1Tb+bx9TO7Hc2kai8W13Bz/hmuw/qep2s+Hs8nu/Fx3p4by8mN9qHv9E1LTZuN1Z1KWO/GV81yPPaaZsRKKknFrKfd3M8W+2lod6n2tPowk+blBOLb8eTRwz8a79O2Pkz7ijyUizbzhfbSUpWl5OD5tRnFNfPJjl7sDWbST7MKdaK/ehNc/ZnHLx8sZt1x5sMuqxQjJ3LrTrqzk43FvUptPDzHl8zqNHG42dussvQSQQRXNCpKElOFRxku+LafzMm0riJuXSZx+FqM6tNclTrNzWPDLefqYmTl+JRc2i8c41JRpazp3ZUuXxbVtv3i3n5MsfRd1aPuGj8TTNQpVsJ5pt9iaa6pxeH79DVLJ2Le5r2tWFWhWlSqRalGUJNNNdHyJZ7G4J9Gv23OMmtaZCNDUYxv6eUlOfKaXquvuZdQ446RNpVLWrHPgm8GRaYK7hxo2lJZc7tf+5b/AFPuXGjaMFmNa7k/D4DX3YFggrGvxx0CGPgW1zUfhNdn7JnnVePNvH+50hT9azWf9UC3iSkKvHq9efh6NQXh26jf6I86vxw3HVf9Xb2lLw7MMv65LINgCH0Nbq3F3eVRv/yhCCfTsUIffB5lzxB3Zdt/F127We6E+wvksDQ2glOFOLc5qMV3tpI6FbcOj27ararZU8fxV4r9TVW51S/vpud1d1q03+/UqNv6s6bk2+bGhs9dcStoWz7M9boyfhTTn9kzzqvGPZ1PKV7Wq+UKEufzSNcCefiNC79y8YtJr6JWt9FjcO6rRcIzqQxGmnyb65bxnHmUi5OTbby2fJJdSAAZNsja89165G0y4W1NfErzXdFdy82+S9xJsrl2jsjUN2Xf9TF0rSk0qtzJflj5Jd7xjl82i8tubN0fa1vGFnbqpXw1K4qJOcvfuXkj1NO0600uzpWVlQjSt6KxCEVher8X5naOkxc8skAA3WOwAFEnzNZpSXjF/Zn0fMouUGl3prPqjFi49tTLjlXl6s4T0NZtJ2eq3NvNYlCo017s8852OqCUEjmoUJ3NaFGlFynUkowilltt4SEhWymwFjYWjf8AZl92ZCefoNg9K0Cw0+eO1bW8ISx0yks/U9A6yOWXaAAVNiPunLsyTb5HwiSX2srvEnFSlmKz1XI5V0PPZqusu2L7s2Vpe67Zq5goXUE1SuF1Xk/FZ7jXPcOg3u29Wq6be02pweYyS5TXc0+9G2eCoeO9tS/o/TLnsJVfiTh2kubTSePmiyqpRhkEmoLV4HaxK31+60qbShdUnKK8ZR5/ZsvY1q4Rya4jacl0aqp+nw5GyiZLJOhIAMgAAAAAAAAAAAAKAAIAAAAAAAAAAAAAAAAAAAAAAAQBUPG/RXVsrfVoKPZpNQm+/Dzz+bXzKUxg201/SKGvaRcafWjlVYNLybTSZrFuPb19trVatleUnFxb7E8cpx7mhLaPJIyGfODezTkjOUGmngyHS956xpuIxupVaS5KFR5x6PqY2icm8c7L2lxlntaGm8TLStFU76hKm+6SzJZ9ev0MusdTstSpKrbXEKkXzTUllevPkUD3o7Npf3VlVVW2rzpTXfB4Z6MPJs9V58uCXpsA0SVjpHEe+tHGjqMFdRXSquU8eq5P/fmZ1pe5NJ1eKdpdr4j606mISXom+ftk9mHNjl9vJnxZYu7cW1C5i41qMKkX1UllHg32xtDvYP4durab/eg2/o2ZG3kG7hjlOnPHPLFW1/wwvITk7G6p1V3Rm1F/yMX1DbWraZNq7sqkUnhziu1H5rKLyJWcNJ4ycMvFxvTvj5Nk9td5QlF4aaZ8IvW+2toeoJyradS+JLn24Zi8+OU1n3MU1ThfFR+Jpd62+b+HXSWfRr9UeXPxsp09GHk4Zdq0JPU1bQtQ0esoXtrKlnpLKafo1yPLeDzWWXVeiWWbiAMDBFAMDAAADQAAATkgFAnJBKi30Q0JfqQdinZXNR4p29SfpBv9Dsw0PVan7Gn3Ms+FGX8izDKp8pO688ZPTvdD1HTKcKl3aTpRq5UXLHP5Pl7nl4JcbOyWXoLg4H1reL1WhKSVxN02s9XFZzjyy/qU/wB57m2dfudtavS1G2eexyqQfSpB9U/9+uC4lbPIk8jb25dO3Lp0byxqp5WKlNv81N96a6+5650lcqgAGkAABKBAJRUXE3YN3WvJ6zptB1Y1cyqwgua6vOF19SqalCpSm41ISg1yaksG2bbXR4OhdaBo19V+Ld6TZ1qnfOpQTb92uZixuVrFZ6Xe6jXjQtLWpUnLoowb+yLi4e8N6mkV46nq9ODuks0qOU+w3+88d67ixLSzs7CkqVpa0beC6RowUF8kjmRZFuQASajnbtAGBgASQBaR2rf9lnMuhw0P2WdXUdUtNJtpXN9cQoUorLc3jl5Lq35I8+XbtHanUjSi5SaUUm228JJGvXFTddPcesQtbOop2tm2lNdJSfJteKWMZO7vzilW16D07R+3b2bbU5vlOqvDyXl1ff4FaPmSRXyfS6nySagsDg1p9S731RuYrMLSjOpPyynFfVmxRq7tfemobShdLTqFvKrdKKdWqm3FLOEsNLvzzO4+LO8nPtPVF6fBhj7CzaNlwUNo/G7W7WpGGqWtteUu9wzTnjxTWV7YLa25u3Sd0WiudOrNtY7dKSxOm33NfqsrzJpXvg+T6IAAAAAAAAAAKAAIAAAAAAAAAAAAAAAAAAAAAAAAI6Hlazt7S9dpOnqNpCssYTa5r3PVOrUvbS3ajVuaVNvunUS+7J7nQwW94O7aq281b0JUqjWFKM3yfu8fQqbdfDzWds15SdvKtaZzCrHny88Gy9OcJw7VOUZR7mmmvofU4RnFxkk4vqms5LKNOej59QzZrWOGe1dYc51NNhb1p5bqW77Dz44XL6GAa7wQurdSqaPeq5iuahWxCWPDPR/QSipSEz1NV0LUtBunb6lZVbealhfEg0peafRrzTPMwbNDPqFWcJJwk013nyw2SXRpk+m751rT4xi7mVamlhQqvK+eM/UyO24oQm/7TYRTfVwk8la5GDvhz54zW3LLiwt9xdem7y0fU2owrSpTfdKLxnwye8nF9Hk15hUnTmpQk013plq7B3BV1CznY3MnOrQXbg+9ro0/RtfM9vDz/K6rx8/BJNxmDBIPa8Tqanp9HVNPq2laKaqReG+54eH7MpPWNHudHvp29zTlFpvDa5NeKfeXujq3lhZajTULu3p14LmnNdPR9UePm4Jl129XDzXCavSgDs2thdXk+zb0J1X4RXMt/wDwG286ikrFLHd8SWH9TtOtoG26fZpytLNY6KonNrxxltnlnjzG+69X/RL1FSPa2sLrYVl/7D/kFtfV5f8A8Kr7wa/Qs2rxD2/DKV3VqvuxReH7vBFHiJoE/wBq4r013t0m19DX4+P+n5M/4reOz9bms/gpr1O3R2Br9TGbaMM/xSSLasNVsdTpfGsbyncJdUmk16p818jtZydsfHw/rGXPlLrSqKfDPWGsznSh6TXL6nbpcLb6csVbunHx7/1LLwGbnj8cc75Gd6YFR4VWyadXUZteCgv5ndo8NdJpftV6lT1S/RmYrl/+UMea+aNTh42by8lY/S2Pt+j+zZQl/ntvPzZ6Ntoum2qSo2lOHosHfwOhuceE6jnc+S9vlQVNKMFhDuJbJNfHFytyrwd42VC825cK4lGCptTU3nk10Sz49PcpOSwWTxO1GrGFpYxm1TmnUnFPk2nhZ9OZWrPl+TZ8vT6njS/DdCT5ZJ53or1NJ1rUNDuo3On3E6NSLzyfJrvTXRotrbfGCxu6cKOs0421ZJJVUm4Pzfh9ikck5yWZaSyVtja6hZX1KNW1uqdaEllOMk8/JnYNWNO1zUtIn2tOvatvzy0pZT9U+T+RmukcZdbsYqnfWtC9ivNwk/llfQvyZuK8gV5p3GfbtxGKu6V1ZTfXMO3Fe6efoZFY772tqGPw2tWuX3VJ/Dfykka2zqshBw0Ly1uoKVvdUay/yKif2ZzfJl2mgE+yA2aqAicN9B2ZeA2uqAiTUF2nJJd+WkeZdbh0ezb+Pq1lSx1U68U17ZyTek+NemSYdd8UtnWrcYapOvJPGKVCck/RtJfUxrUuN9rFNabpM6r5pTrzUF64WX9ULWpitVvB5+pa/pej03O+vaNJYyk2m36Jcyi9V4o7m1NyVO8jaU5J5jQjh/N5fyZiNzc17uq6txWqVZt5cpzbfzZm1ZNLl1/jVa28XQ0O1+JJp/11TMYp+KXf7lVa3ubVNw3Lq6jeVK/clN8l6LojyGQ0Yvto7wQAoAABOSCcF2CZ6mi63faFf07yxrypyi/zLPKS7013o8oAbS7O3Za7s0indUnGNVJKrDPOMsc1/v3GTYNbOF25J6HuqlTnNq3u/wAlRPp2u5/p7mya58zNgkAEAAAAAAABQABAAAAAAAAAAAAAAAAAAAAAAAQzwt1a1T2/t27v6kkpxg1T5c3NrCS9xv3oV/xK4l19Pry0nSKvYqR5VKi6p800mU1dXlzeXEq1xWnVqSeXKcm2/mL26qXt3VuazbqVJOUm/FnXLIMq2hvXUts3lP4VecrZy/rKM5twafJvHc+fU2P0fU6Gs6VQ1G3f9XXims9z6NezyjUZcjZPhLGqtgWPxVjM59n0y8FozcAkyOjfadZ6nbytr23pXFGXWnVgpJ+z7/MrncfBfTL2U6+i1ZWM3zVJvtQb8Fl5RaWEfQlGrGvbH1zb9SUbu0lKEek6ack148ly9zHGmm0zcOtRp1oOFWnGpFrDUkmvqYjrPC7besKU1aq1rPn26Kxz9CyjWkIt3UOBd7Tk5WGoUqse6NTKf2aMZuuEm7LVrNpCcW8ZhUTLsYRks3hFoVzf393dKPYpxouCk08Zb/8AA6ujcH9wXVxF3tCFKj3r4iTZdu3dv2u3tOjbW6im2nKUFhPwS8izO43cZyxmU1Xh19LvaDxOi34OPNHCra4XWjNexneMnHKlCS5xTXoerHzMpNWPLl40+mCc02msPzPmU4003J4STk33YSy2ZhX0a1rvtOOH4oxXeujxsNsXdahOTapSST7uTO88vG//AFyvjVWO6t816laVrplR0accqVRPEpP9DBalSVSblKUpSfNttts4223lvmfLbPHyctyr24ccxmhvmMjBBy26O3Z391ZV41ravOlOLypQk018jJv+EnX5Uox+LBTSw5qCy/N92fPBiC9CcmpyZTqsXGX6e3c7w167yp6ncpPuVTsr6YOjLWdRm8yvq7b/AOtf8zo5IFzyv2TCfx23qN7J5d5X/wC+/wCY/pC7/wD7db/5j/mdR+owJnlPtrU/j2rXdWt2WPg6pdKK6J1G18nlHu2PE/WLdKFzToXiXfUTTfuml9DCT5NTmzn2xePG9xben8SdJuVi5pVbWb7ku2vnlfYyey1Ox1CCnaXUKkX4tJ/LOTX9PB2Le9uLWalQrTptPrF4O+Pk37ccvHlu4zPilDGr2jb60H9JMwPB6mqa1e6xKlK9rOq6ScYt9cN5eTyzz8tlu478eNxxkMEEmd8MNGstf1S8sL2nGUJUFNNpZi0+qfd1MSbbYGSWluPg7fUG62j1Y3EOb+HJpSXkvErq/wBKvdNryp3lrVoyi8NTg19xYm3RBI59wVAAJ0OWFSdN5hOUX4p4O9Q17VrWSdDU7qljp2K0lj5M80FlTT3Ybz3NDCjr9+ku78RL9Wcj37up/wDp29/+azHgXZp7FXde4Lh/12t38/8A4ma+zOs9c1Z83qV234/Hn/M6AJaadipeXNx/e3NWp/nzb+7OvlsgE7UABdgACAAWNsLhzY7noxurvVYRim/7PSknPC65z0+Q+tivoU5TUpRjJqKy2llJeZx4L/37t/TNu8OLu30u2hQi5U1Jpc5vtJZb7ygO8ksoYGAettpJ7i09NJr8VSyn0x2kak9DycNdUdmhZV7tyVvRqVexFyn2IOXZSWW3hckbO3mxtv39b4tbTqLm3ltQSz9D7ntvTNP0W6t7Cyp0nKjKP5Ek3yfIxKNVgdi9puneVqb/AHajX1Z18mhzW1eVvcU6sW04SUuXk8m2Wg3X4zQrG6by61CE2/FtI1HNluFOrLVdjWibbqWuaE892Oa+jRKM1ABAAAAAAAAUAAQAAAAAAAAAAAAAAAAAAAAAEFNcctaqp2Oj021Bx+PUWerbaSfph/MuU1q4s307zf8AqEXLMaDjSgvBKKyvm2/cfYwpkEvqQaHsbd0WvuHWbfT6EcupNdp45Jd7ZtJpGnUtI0q3saKShQpqCx3vvfuyp+BejwnC+1ipFNwmqNNtdHhN/dFzC0SSAZAAAAAABAGxIAAgEgD5weZrmmQ1jR7qxmkvjU3FPwbXL6nqnzgg1M1/Qb3QdSqWl3Ta7LajJLk15Hk95trq239L1mHYv7KnXz3yWWePbcNtpW9ZVoaNQcl0Ty18m2i7n2NdLLQNY1KHbsdLvLmCeO1Soyks+qRxX2l3+l11Sv7Sva1Hz7Fam4t+mVzNtqNvSoQVOlTjCCWFFLC+R0tV0LTdYtnb39nTr03zxJZafin1XsatGpOQXhqnA6xq15VLC+qW8ZPKg4qSXklyf1PKp8CbtzXb1NdnxcEn92JRUgL607gjots1K6ua1zJdU3hfJYf1Mgo8MNo0oJLR6UsfxNvPzbJbJdDWYG0K4cbRf/oO2+T/AJnHU4abRqLH9C269M/zJsawkl/arwV0G6zKynVtJPolJyivZ5ML1Tgtr1m5Ss6tC8prmmn2Xj0fIu5UVoD0tS0DVNJqune2VWm11bg8fM80qmSAAJMy4YavDSt5W7qvEK6dFt9za5P5pL3MNZzUa06NWnVptqVOSkn4NPKLKljbNHWvNLsNSpOnfWtG5g+qqwTfs2soriPGS0tdKtXG0lVunTXbim0k1yafiTY8bbGpVULzT5UovrODbx7ZNW7Z1Xpavwe29fN1bGrW06T6KP54Z9HzXszC9S4L6/byk7G5tL2K6JScJtejWM+5bGkbx0HW4p2moQ7T6Rm0nnw6ntLmk01h9OYkPc7ax6hsvcemTautFu6eOsoU3OPzWV9TxZ0qlGTjUpyhJd0k0zbbB17nT7K7XZubSjWj4Tppr7CyLtqamDZ2vsja1wmnolom++NNJ/Q8+vwu2jWba02EM+E5L7NGdG41yBf9Xg/tebzSp1aeP+sk/uzgqcF9AqJKFetSfjGTf3bGl+UUOC8JcENFbytTuV64/kcsOE207H+sur2dVLqp1Ul9GiWEu1FAu+4fCrR2ofAta00sYUHVbx6tnj3HEfaWmN/0Btql210qTpRg16NZYlVW1tpOo30uzbafc1X4U6Ll9kexLY+uUKKrX1K3sKTWVO6uYQ+mW8+WMnparxU3BqOY0KkbKm+6jzb9W8v5YMPurqveVnUuK9StUby5zm238xsfdxRt6FT4dO5jcPvlTi1HPk2sv5I6mBgAMHp6Jq91oOr0b+0qSjOhUUmovCmk+afk1le55h2rO0rX93TtqEe1UqyUUvNvBfqjYDiXd07/AIXSvaa/JX+BVhnwlJNfRmupsFxGtHpvCGFlKTk6ELallPr2XFZ+hr6YxA9jaizuXT4v9l3VJP07aPHPd2Ys7p0/yuKb/wBZG4NrMBpNYayiQY6RrLxN0WGjb0u4012aVd/Ghjuy+a9jDi4+O2nOT07UYxXZblTcl3tpNfb6lOFl2qS4+BF+/iappspcnGNaC7lhtN/VFOGYcMtaWjb3sqk5OFK5bt6j7sS5LPknh+xdbg2aJAMAACgAAAAKAAIAAAAAAAAAAAAAAAAAAAAAAawcS6U6fEDVlNYzWyvRxTX0aNnyleNm26ruaGu0Keac6ap1mubUlnDfqsL2Ap5kE95BoZzw937W2hcStK/9bptafaqQxlxk0l2l7JJo2G03ULbVbCjfWlVVKFaKlCS70aglmcJN3VtK1uno13VzZXsmodqXKnVfRryb5NeLT7iUX8SAZAAFAAAAAAAAAAAAABAJAEEgAAAAAAAgkAAAB07zTrPUKbp3dtTrRa6TimVru3g9a3y/EaG429ZZbpN4Un5eBapIg1I1bb2qaLdytr60qUpp4y4vD9H3nnSpTgsyi0vNG4dWFOpDs1KcakfCSTX1PF1baWh65bOhdafSWc9mUIqLT8U0Nq1TJLpuOA9t8Xt0NYrRp/wOkm/nlfY8fdvC6loO3VdWlSpWr0pJzzzynnPJdMGp7RV+T5b5n0fOPIqPuE5Ql2oScZdzTwZTpHEXcujKNOnqE7iguXwqz7Sx4J9V7MxNoDZra37DjgnCML7R2mlznRnn6PH3PbpcZtsOKTheUn50Vy+TZQoYtLF//wDDDtL/ABt3/wD53/MS4w7UWOzWum33fAf8ygANml4XnGvRYR7NnY3daTzn4iUV92/oY9e8bdWqLs2lhQorucptteywVgBs0yu+4kbqve0qmq1IRfWFNKKX0z9TwLnU7+8l2rq7rV34zqN/qdMImzWkAAKnIyQSBAPT0zRdR1isqWnWdWvJvH5IvC9X0XuyxtvcGLirKNfW7pUqeU/w9HDlJeDlnC9Fn1LpNq70jQtQ1u8ja6dbTrVJcvyx5J+b7l5l3bF4ZUNtzp6jqTjcXyWYQSzGn55739F9TM9F0XT9FsY2un2tOhTisflXN+bb5t+p6jWSW+tLKwHjHJw4f14rrKtSXykn+hrozYPjbU7GyYx6dq5h9MmvhmdLaGRbGf8AxqsfKtB/KaZjpk/D1drd9nHpmcef/tI39I2jDJIMUYhxI0B7h2jcUKUc16LVamvFrqvdGssouLaksNG40kmmmsplJcQeF93C8rarotL41GrNzqUFhOm3zbXin4dwlkuqKlT5nc02nUq6jbwp5UpVIpNeOUdhbf1h1fg/0ZcqonzTpNJe75FpcNuG1zZ6pT1fVYqmqP56dHz7svyafyN7kguGH7Cz1wsnIQSYAAAAAAABQABAAAAAAAAAAAAAAAAAAAAAAQdS+sqGo2dW0uYKdKrFxkn3pnbIaINeeIHDm627WlfWcXWsW+bS5w9Uu4rs261mFKekXSrRjKPwpNp+GGalVey5ycOUXJ4Xl3Fl2ONHPRrTo1IVKcnGUWmmuqaeUzgDNUbcaHevUtC0++njt3NtTqSXm4ptfNnpmO7GjJbK0ZT6/gqT+cU19MGRGQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHy2orLeEYbuLiZoWgVXSnOVaqv3YHxxN3JPb22pTt5Yr124R8cPkzW+tVqV6sqtSTlOTy231Y0L5tON2g1qyhcUK1KEnjt4zj1RmdtqGn69YKra1adxQqR5pPPJ9zXcanpczMNgbuuNua3Sg5N2leaVSDfJZ5ZNYz2lZ5ujhBb6hXleaNXVvUm3J0Wvyt+XPkVrrOy9e0Ko1eWMuyv34c0/dGy1OcakIzg04ySaa70+jPpptNPDT65RuxnbUfmnhrDR8tGy2s8P9ta5GTr2Co12v76g+w8+LS5P3RhOo8Du1mem6zHxULik/rJN/YzY1tT65EmdXfCHdttLFO0o3EfGlXjn5No8m44f7st5NVNCuuXVwSmvmmyWG2NA9uWz9xweJaHfr/wCGl/IU9n7klLC0O+XrbyX3RdDxAZbacNN3XXZ7Gi1Ip/4ypCD+TaZ7ljwT3DXad5dWlrHzm5teyWPqNLarYF2WXA/TaeJXer16z71TpKCfzbMlseGe1LCCS0yNxJfv3EnJ+6yl9BpNtdaVtXryap0pz84xbPe03YO49UklQ02qovo5rsr64NjrTTbHT6Sp2llb28V0VOmopHPUqQppOpUhFeckkX1BTmmcE76q1LUtQp26xzjTh2390kZfpPCnbWmtOpQd5OPfWeVn0TwZFW3FpFGShK+p5zjKTaXukzt2moWd8s211SqPwUln5PmJZSy6Ta2lvZUlStqMKMEsJQSSOZBoI252Wdu7S/YXofZ8Q/u16H2cb26TpWfG+aW1reL6utlezRQK5l58dZ40ewpZx2pzl8nH+ZRgkWhlPDiDlvWxx3TT+qMWMv4Xpz33YxS6tv5LP6G5Bs4ADmIBJw1ZwpR7dScYRXWUmkl7saE/Bp9rtKEc+ODkRj896bbpVfhS1i27ecYU8r5rkezbXNC7oKtb1Y1acuanCSafuh2OwAAAAAAAAACgACAAAAAAAAAAAAAAAAAAAAAAEPoSAMW4haitM2bqFbOJSoygvNtNL6tGrucsvzjjeOjtShbJc69zFPn3JN/dIoISaEnNRoyuK9OjTWZVZKMV4tvCOFGU8PbH+kd8aZRbxFVlUfLP7OZY+huTcGyek2MdN0mzsIvKtqEKSfj2Ul+h3kCTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtOM2l173bFO6ortfh6iU447njn7FAPobhV6FK5oToV6anTmnGUWsppmse/ttvbO569jHLoS/rKLffF9P5ewnsYwyV1TAXU1EbH8ONYer7RtZTl2qlGKpzb6trK5/IytcypuCF3KVG+spZcVJVFz6dE/ui0L66VlZVbiXSEW/fDwb3qM/G2+nLWuKFvzqVYRXi2deGsafUfZjdQb8+RXmoajcahXlUrTbT7lyR1FhLkjjeWfT048Ns3VlXWuafZrNSum/CKy/oeTLe1kn2adtOXh0WTCsDBi8l+m5wyds5o7105v89CvBvuST/VHJ/hjpD6U63/cX8zAl5ktEnJWvxSs5q7z0yKzSp1ZPwccHUq75jns0rBNeMptfoYiO4v5KfhxZFU3tfyTUKNKl4dWdCruXWK2c3rjn+GKX6HmEMz87Wpx4z6dqpql/Uy5XVRt9/aZwTrVajzOrKXqzjJJbW5hJ1EErKaksprweGiATdT4yvQobg1a2SjTvqvZXRSxJfVM9ux3nWU4wvaMJp9ZrKa9lyMUJaNfOxi8cv0t+yu6N3QjVoSTi14816nayVvt3VqlhcxpubdJtRafRJ5+3UsWnNTipJ5TWUbwy+UefPC4qm48yxZaUsftOrz/7hSJdXHt4oaQvF1v/ALClTrOnJJm/CSPa4gWb8ITf0ZhBnnB1Z35Q/wBFP7MsqtjwAcx8ykorLNe+JO+LvWdYr6dZVnTsLWbhiL/vGuTb8s5SRcO99Wei7Xu7xPDjFpPOObXL64NXZ1HObk2222234suOrfYdpt5bbb8TL9g70vNs61SjUqupp9WajcU3z5N47S81nPn07zDW8n3TTckopttpe+TQ3Fi00mmfR1bGEqNjb0pY7UaUU8eKSTO0ZAAAAAAABQABAAAAAAAAAAAAAAAAAAAAAAAABTXHms1HTaGeTzNL0yv1KYLf49f8u0teNOX3Khwal9QEWBwaofG37Rl2c/Bo1Jt+Cw192ivyzOBazvS6b7rGb/14L9RvQv8AABkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB84KG45141N02VGDzKja4n5Ntv7F9FCca9Mq0NxUb1Qbp1qf7STwmsLGf8AfqJ2KwQQbJim8Jc2zU9pVpcEITeu3Ul+yrdp+rax9mWNvWbp6Mor96ok/TmzweEW36ul6HVvbmm41LtppNYah3/XHyPb3v8A+aqHnWS/1WXL1GuP/UYS+uBkgHj094SQSLDQT7MjPLIzknTWjJBL5Au0QCcDA2ujuAJwNiAMEpAfKJyGEiWrHcp/sL0RYe2Lt3Oj08vMqeYPPXl0+mCvF+wjM9kz/slxFLCVRNe6Q4r+1ceafqwfj7+zov8A77/7CmMFzcf3/wCZF5V//sKZweydPFoLC4KrO+4eVGf2ZXpY/BOOd5Oef2abXzUgNhADrXF1Rs6Eq9ecadOCbcm8JJGBX/Gu47GyY008fFrwTXlza+xr7gz7idvhbmv1Z2nKyoSynj9trKT+r+ZgJqTQJ8z3toWkb/dWm2lRZhUuIKS8VlN/RHgozThbZSu9+6ekm40m6knjKSSb5++F7m8Z2lbLEkA52qkAAAAAABQABAAAAAAAAAAAAAAAAAAAAAAAABSfHqP9v0t+FGf3KgLj48Um5afWX7qcfm2/0KcLOgLM4E/89Lr/ALBP/bgVmWJwTuFQ3z8OTx8e2nBeeMP9C6Gw4AMgAAAAAAAAAAAAAAAAAAAOhX1bTrZtV763pyXWMqqT+WT7ttQs7uOba6p1v8yaf2A7gIJAAAAAAAAAAhs4a1WnQg6lWpGnGPWUmkl7sbHOYHxL1rQLHRFbatBV6lbLpUYpOeF+8ufJZxzOruHjDoekVXQ0+FTUqqz2nB9iCf8AnNPPsseZSm49euty67c6ndJRlWaxFPKgksJLPcl/MDyZuLqNwTUc8k3zwZ/w00Lb+rajm/u3Uvab7dO1lFKFRLDynnm/Lk/Irs7mn3dSwv7e7pycZUakZxa8U0zpEra+FOFKnGFOEYxjhJJYSS7jH96xzokanZz8OtB58E8r9T2LC5leWFC6eM1YJtI4tXto3ulV6LWW4OSXmllfVDOejC6yViADydPoS7SkAhglUSJa6EY6h9xGgY5hoNA0+iGB1AhsJhrmMYFQzkABNpCTbSXVnyfcFmaJemp7rtr9lehmOx/+TXP+evsYgv2V6GYbHX9muf8APX2M8fac/rBgXHyonX0amnzUKrfu4fyKdLY48zzq+mwz0oyePDL/APAqY909R85JZfBBY3ZUfjSf2ZWmDNNia8tvQ1DUkk6lKCVPK5ZaaX2H0Lz3DvHRdr0n+Pu4fGazChB5m/ZdF5vCKO3nxD1LdVWVOlN2mn5zG3Uucl3OT735LkjFdR1C51S+q3l5VdStWk5zk33s6bRmQQADQkvHgttqdrY1tduIdmVdOlRTWH2cpt/NJL3MI4e7Grbo1FVrinKFhSw5TawpvwXiv9/E2HtbWlaW1K2oQUKVKKjCKWEkljBLb9DtAgkyAAKAAAAAoAAgAAAAAAAAAAAAAAAAAAAAAABAFX8cLGVbattdpdr4FxHteSaa+7KENp986WtW2hqNr2O3UdGUqa/yksrHukastc2JdwDJ9g6itL3ppdw54i66pyb6JS/K2/LDMYOSFSUJxnGTUotNPwa6G5dTQ3HB5O3796tt/T9Qk/z3FvCpNLuk0m188nqnMSACgAAAAAAAAAQAB5eta1Y7f06d7qFZUqUFy7233JLvZSW5uL2s6rVlR0p/0daJNLs4c5rubbXLu5Lp4sk3Rf8A24r95fMr3idvZba06naWk0725TaSfKMOjb7+vJe/gUdPcuuVKvxZ6xeup/F8eWfucGoape6rXVe/uqtzUjFQVSpLLSWcLPhzNSD4vNSu7+tKrc1pVJSeXl8j0dv7p1Tb95Cta3E+xF5cG2013o8PALRtjtfXae5NBtdUpLsqtH80fBptP6o9krbghVrVNm14VG3CndSjTT7lhNr5tlkNpdWZ6H0DGtW35tnRp9i81eip8swp5qNeqinj3wY1ecb9sUG40KN9c46SjBQT+bT+gFlAqOXHrT5SwtEuFHx+Os/JL9T1NN417avJKnc07q0l4yj24/Nc/oBZBB0NM1ew1a2jc6fd07ilJZTi8teq6r3O3OpGnFyk0opNtt8kkQcGo39vplnUu7qpGnSprLlJ4Rr1vjiRe7lqyt7WTo2SbSiuTkvM7PEvfctyag7KxqyWm0OUMNpVZd82sdO5J93PvK9RZBGRnyAwaEAAsGzexL6OobN06pnMo01GXqjIGsprxTX0ZWvBfU1caFc2E5Nyt6iaXk//ABLLfI3rc0x1dqouIxp16kEsYk1j3OI7mrUfw+r3dLwqPHo+a+51G2ujPDZq6fQwu4dCAA6DfgySAKJAD7iBjISJxkYyU6QuZHcyc4IABBBE3tA5aKzUSOPuyclD++iS9NY9u3jlgzDZH/J7n/SL7GHpmYbH/wCS3P8ApF9kZ4v9J5F/VWXHSo5bms4PpG2WPdsq3BZfHCfa3hSjj9m1i/m2Voe584Pd0uzlcbf1SdOLbpzoy5eGZ/yPCLX4KWNDUf6YoXEFOnNUk0/DEx9UVS11ILQ3Nwd1i1vKlbRlG6tqjzGLmozWe7m0mePa8Jd43NZQnpsLaLfOdWtDC88Jtv2Q9DCIpyaillssPYnDC83BOnf6nCpa6cuaysSqeST7n4mfbW4R6Pojhdam1qV0sNRkmqcGvBZ58+98vJFiQioRUYpKK6JLCSJb/B19O0210qyp2lpSjSpQSSUVg7gJIAAAAAAAAAAKAAIAAAAAAAAAAAAAAAAAAAAAAAAOKrBTpSi1yaZqZuGy/o7cOoWajhULicUvBJvH0wbbmrvEiHw9/atFLCdZN+rim/uIMWABobJcIr+V7w/s05dqVvKdF+WG2l8mjOCs+BUm9nXUW84vp/7ECziAACAAAAAAAAAAANfeMmu3F7uKGnKTVvbwz2e5ybaz8vuVu3ksjjFodxZ7hjqHw26FeL/OlyTy3h/MrY1PUDJAAAAAZztnibq22dGjpdlaWsqcZSl25xbkm3lvrjl6Hla1vncOvJq91KpKm3lU44jFeySRjZOQJbbbk3ls+QTgaEE94IA9/bu69T21eRr2Nw0nynBvKkvBp8jKt2cU73XdDo2NpCVq60f7Q4vDkuacU/B977+niVuB6AAIAdutYXNva0rmpSlGlWz8NtYzjvMg2btiWvXrqVVizoNOo3+8+qivXHPwRmu/NMp1ttYoUox/DyUoJLollNL2+x3x4bcfk5Zcsl0p8B9SUsnHWq6s/wCEOqKw3jGhOaUbuDp4b5NtZX1SL7aNVNJvJ6dqdvdwk06FSFTK8mmbUUq0LihTr032oVIKcZdzTSaf1NSsVg28rT8PrbrpJRr01PHmuT/Q8DBnm8LRXGkqt2cyoTTx34fX7IwNHl5Jqvdw3eJgYJIbObtvSPRgAp2kkgERBOQwyqJBMJcgmTpAABYNnJQ5117/AGOM5KCxWi/Uzemse3bM22ZTUdKqNdXV5v0SMKM72jHs6JTfXMpP054/QcPbn5H+VN8bJN73Sf7ttTX3ZXCLB40PO/Ky8KNL7Mr7vPZHgC4OAvOvq3rS+1Qp8ubgJBKOrTby5Spr5KX8y33BcgwiQZAgkAAAAAAAAAAAAABQABAAAAAAAAAAAAAAAAAAAAAAACABq9xKmqvEHVprp8RL5QS/Q2dqTUKcpN4ik234Gp25LxajuPUbxPMatxNxfisvH0wIPJABoX7wI/5oXnnfSf8AqQLOTyYFwcsXZbBt6k44lc1Z1n5rOE/kkZ6mQSACAAAAAAAACCJEnkatuLStHpyleXtGljqpTSwWTd0l6eNuv8HqtKWm3FCFanjEu11T7sPua65Kxr8LqDruVG9nGk+aTSbS/Uy+lufR9Vu6n4XUqNSo5N9nLi36ZSz7HdT8j6nFw4XGSvn582eNYnp/DnR7fErpzu5LqpSaT9k19z0dS2do19ps7SjZUbWWM06lOOJQaTxl9Wn3pvn6pM91B9D0f8+Ln+fK3dqhtW0a70a9la3dPszi+TXNNeKfeedgvzUdJsdVpOnd0Iz5YUu9ejMQveGFOtOU7O97CfSNSLePfLPByeNZf16evDycbNXtWWBgsCPCu8XOV7Qx45f8jvWXC+1i1K6v3Ux3Qg0vnkxPGzv03efCfas1ByeEsnsWG1Na1CKnb6fVnF9G8RX1aLc03bGj6Wou2tYdpcu3NOT+byerhRSSSS8jvh4nv245eVJdRTlbh/r9Ck5ztIYXdGom/lkx2tQqW9SVOrCUJxeGmsNGwp4evbU03XYSqVIqncf42K5+6zzLyeLJPRh5Mt9qQJMzvuG+r0ZSlb9i4gujU0nj0bOnHYO4ZTx+Ba83JJfc8n4cnonLhZvbGD3tu7au9fvIRhTlGgnmc8cku/BlOlcNKinGpqNWEUusE00/kzOrKxttPt40LamoRSw2urO/F493u9OXJ5Ek1DT7G20qyp2tpSUKdNcsd78X4s+dTtld6dWotJuUX18cM7QSymn0zg99wnx1HgmduW2vVelKhXnTmsSjJpnGme/vKzdjuO5hjCm+0seDX88mPnxs5rLT6+N3JRNp5ybL8PNQWp7I0yqpZlTp/BnnucW0k/bBrQXVwR1B1tH1DT3LLoVo1Um/3ZLDx7xRJVsZ9uNZ0K4fgkVsWVr0XLRbiK/gK1Rx5J729Pj31pKD65JDZwr0XtCQwExkogldwYYVL9iGS+qJCPnuwQAFSujIRJCJs2k5KP8Aeo48nJR/vUZy6ax7dvOCwtqw7Og2/nl/VletFibYX/kC1/zX92Xhntz8n/MURxkf/wCoF1HwpUv9hGBmc8YnniJeLHSlS/2EYMet4Au3gJHFhqr8Zw+zKSLz4ER7Oi6g8/tVov0wmi3oWwADIAAAAAAAAAAAAAAAKAAIAAAAAAAAAAAAAAAAAAAAAAQ+hIAx7eV/HTNqahX7WJKhNRfm00vq0aq5bbbeWy/uNmqfhdqU7KEsTuq0U/RZb+qRQQnQg+4xcmklzbwj5Pf2Zpz1Td2nW3ZTi68ZSTXLCeXn2TNa9J22U21pz0rbenafOKUre2hTml/Eks/XJ658pKKwlhIkzaqQAAAAAAAAABie/tzU9rbdncxebms3ToRT5uTXN+y5+uDW/UdTutVuZXN3WnVqvq2+S9F3Fj8db5z1zT7HtNxo27qY85PGf9UqtMuPr2OSnOUGnFtNc00+/uLW2Jr1bV7B29y+3WoPCljnJY5N+fcVI3kzvhipS1O4S5pQTXrhns8fK/PThzYy4W1Zy7yO8lMYPr9vkCQwScNWq4rlzwNDmIwdR1JN5zg+qdSSay8pk0Oy2SfCZ9IuhJD5EkTeINiLbpxzrxi8dfc4nXl3M4ZPM2wXUvabcirT8Q61Tulg4wy6iy7fbqzf7zJjWlFYTPhDvJojAuJlsldWt6o4+JFwk0u9PK+jfyMB7y3N72TvdrVpKOalCcaqXeksp/Rt+xUeObPjeTjrN9bx7LhqI7zPeEWqLTt6U6Mmvh3tKVBp9M8mn81j3MCO3YXdTT7+hd0pYqUKkakH5ppr7HnjvW1V3S+NaVKeM9qLX0ZVdSDpVJ05L80G0/VFpWF7S1LT6F7Qeadempxfk1kr/cltG2124SWFNqfzS/kc+SetuvDdXTzCASeXt7BBhMMqAee4EDahIwBsMDAwMAMEIBDSJRyUP7w4zkof3hm9NY9u2WJtlY0G2/zX92V2l09UWbpdB2+lW9JrDjBJ/I1wz25eRfUjXvi/z4j6hy6QpL//AJowZmZcVZ/E4h6pLPSUFjwxBL9DDmet4gvfgbH/AMhXTz1mvo2UQX3wOX/Fm4l41H92L0LQABkAAAAAAAAAAAAAAAFAAEAAAAAAAAAAAAAAAAAAAAAAAAFL8dqNbtWNdPNL9np3vL/Qpw2j3ntSjuzQ6lnN9mtH81Cpj9maXLPk+jNeNb2prOh3cqN5ZVU02lKEG4v0aWBKPDLP4J6TO53LV1KUV8K1pySb/iawl8m/kYloOy9c1+5VK10+pGLf5q1ROEIrzb6+i5mwmzdrW+09EjZUn260n2q1T+OXl5Jckat/gyUEEmQAAAAAAAAAAFAcdKco7wtajX5ZWUUn6Tnn7orMunjzpsnQ0rUoRyoudGb8MpNfZlLYNToDP+F9eMNQu6Mv2pU1Jeiyn9zADJdjXqs9zUO08RrJ0n79Pqkd/Hus3Plm8LFx4PpEg+1OnxrA6lZpzeOh2zqV+U/Y1EcZJAKO1TbcE31ORHXoy7mdhEokiXRkkEHSkuzNpkM7kqcZdUfDt4tcuTNDqknZ/DLs9nLIVtFd5NjrhKT7js/h4n2qaSwsIbHXnbQr2tSlWScatNwa8mmv1KKv7OrZX1a1qrFSlNwkvNPBf2Md5WHErS/w+rx1CEMU7yKlNpclNcn6ZWGeDysNzb3eLnq6YL3kg+T5j6C9eDuv/jNBqaXWnmrZzxTT74PLXyeV8ju71ounq1ObWFUg8ez/APEqrh3rUtG3bbTcmqVw/g1Md6b5fXBcm+qKdC3rpco1HFvwTX/gTkm8W+P1WH97HcAeTp7YgBvwYG1rkoJSqx7bws82fdzGnGs40pJx7sdy8DhTwAmghslohsEAAVr6Su8ILvCJUDkof3sV5NnGujOSj/eomXTUd+2pqpXpxffNLPui04R7NNJdyKx06m6mo0ILq6i+6LPib4o83kX3GsHEialv7V2u6u4+mEkYuzIt+1O3vnWXnP8Aa6i+Umv0MdPQ8obA8EY9naEnn9qtLl4YbNfjYjgzBR2NQl/HUn9JtFFhgAyAAAAAAAAAAAAAAACgACAAAAAAAAAAAAAAAAAAAAAAAACDz9Sv7TTLOd1e1IQpU023LHyXmeiUjxv1yo9QtdHpylGnGmq00lhNttJP5Mg9HUON9lb3Eoafps6lFclOTSb9F4Hs7a4t6TrlxC2uISsqs+Sc/wBlvwznka8MmMpRacW013o0NyU01ldGDB+FGvVNc2ZRVeTnXs5u3nKTy2kk0/k0vYzglEgAAAAAAAAEPoQYVxW03+k9iXbUcztZRrx8Vh4f0bNa2kbc61b/AIvRL63ayqtvUg145i0ak1U6dWUWuaZZR8S5nb06p8HULer07NWMs+jTOnklPDOmF1dpZ602Ho1VWoU6y/6RKXzPs8nbVf8AE7dsqjlmTppN+eD1Uz7mF3jK+LnPjlYk4LiKazjmc58zScHk6xjbokh8ngIo+otxksHci00mu86J2aMswSXVEo5gAQAAAAAAhkgFQ1lo8DedhHUNt1spdqhipF+GM5+hkB172i7myr0sc505QXm2mkcs5uWOnHbMpY19a5tHydq9oStrqpRksODawdfvPi5TVr7Mu5tz2lZ293RqxeHCcZL2aZstqVrLWdqxnDnUdONSPqnnHuk17mssJ9ipGWM4aePFeBsTsfeOka7Y0rChUdO4oxwqU1ieF3rnzx5EvuaXemJReYp+JOTKty7Ycas73T6alFvtVKUFzz3tLv6ZaMTTTbS6o82WGntwzlTgd2B3DGTm61BPoyMDBdIDuQJ7sAQABoSggw2n0BsRyUf7xHGctpRncXcKVJZqVGkl9zOtm5O2RbXtJXGrRqJflpc2/MsJHl6LpVPTLSEEk2lzeObZ6mcHfjlk9vFyZfK+mp26q6ut06pXTyql3Vl85t/qeMzJN8abLSd36jauOIKvOcX3uMm2n8mjHGjq5hsVwa/5h2v+fVf+uzXXBstwr02vp2xrGNeOJVU54aw0nJtfRijNQAZAAAAAAAAAAAAAAABQABAAAAAAAAAAAAAAAAAAIyBIOpe31tp9B17qtCjTim3KbwjDrvi9tO2qOmruVRrvUG0/dJkGdgr+HGTas8f181nxhJY+h7ul7525rLjC01Oi5y6QlJJ/Jl1Rkhrpxocv8PqsX0jb08ejTNiIyU45i8o1742Qcd+tv9+0ptemZL7osFdkAFF5cBpP+hNQg+aVwmveK/kWzkp7gNUj+E1Ol+8qkJfRouEl7EgAgAAAAAAAA+ZLMWvE1L3Jbfgtx6hbYwqVxOC9E2v0NtTVjf1P4e9tWWMdq7qy9cybEGNkogGoLo2FV+Ltahz/AGG4/JIyNPJiHDWo5bclF/u1mvojMD7nDd4R8fnmuSgAOzjXUrxaeTjO1Wj2oZOqiwlDloPE/JnEIvDGx3wfEHmKPsgAAAAAAAAAAnasL3ZsmGqSlfWUlCvhuUGsKT9e4q6rSnQqypzjiUG014NGwU1+SXoyhdWoyt9UuaU/2oVZJ/NnzfKwk9x9Hxs7lNV0s8zv6Vf1tL1KjeUKjp1KUk00+aZ0CUzwSvY2r0TVaWtaJaalQwlcUlJpPKT6NezyeZre1KWoOV3aSVG4fOSaypvz8H5lN7H35d7UuHQrOVfTqj/rKTfODffHPR8ua7/qXzpmqWer6fSvrGsq1Gqswmu/ya7mu9PmjVks1UluN3FdXumXthNxuKEopd6WV80dTtJ9C25JSTTjleh5d3tzS7tuUrWMJPvjyOd4/wCO+PN/Vcgzapsizefg3FSnnua7S+rOjX2JXbzRvoST6RnTcfqmznePJ1nNjWLgyH/AbUX1r0vqS9kamsYqUX/7WCfCtflxY8Qe1V2lrNNNq1U0v4ai5/U6y23rP72nVPmh8Kvzxv285kHrUtsa1UfOzkn4ykkvqz1LTZNef5ryvCC8Ic2Jx2s3PGfbGIQlUmoQi5SbwopZbM62tt9aYlcXEW681y/yV4HoadotlpifwaSc28ucubZzX2oWumWcrm8rQo0qabcpPCx4epuYaefPkuXqdPV7SUO03hLqYXufihoW3JSoRqq9ul/0VJ8l6yxhfUrDevFC91ycrPTJTtrJZTaf5qi8fJeRXrk222zenNm28d8WO8Zwq3Gj/hK0MqFeNXtPHg1hZR42nbO1jWE5abbxuYZ6xqRX3aPBbyZfw11u40ndlpTjP+quaipzi3yeXhfVlnoZds/hDeVLynebiUKNKm01appub7stPCXkuvkXRThCnBU4RSjFYSXcj7JJbbRIAIAAAAAAAAAAAAAAACgACAAAAAAAAAAAAAAAAAcVarGhSlUm/wAsVlnI3hGM711Sja7V1Oca8FUVrNxxJPnh4AonfO8rrdWr1Z9uULOlNxo0k+WE+r8W+vkYiS3kgsEE5a7yAUZXt3f2v7aqQVvezrWseTtqr7UGu9LPNeqPb4gX1vvDT7Pc9qpKdOmra6oZy6TTbTz3pttZwu70K6M54XwV9ueWmVIqVteW1SFWD5ppLKePFY6jr2MGa5sgtPXOC+p0biVTSqka1J81B4TXlnJ86LwX1W6uovVKioUk8ySWW/fI3LNwe3wM06rRtL2/qZUK7Sgn0aXLPzbXsW+edo2k22iadSsraKUKcVFY78I9Ezb7EgAAAAAAAAACDWTihTUN9X6XfLtZ8c5Zs2a3cYIqG/7jHfTg/uIMFABqC1eGEs6VXjjpUfP1S/kZuYHwuedPuvKS/Uzw+3w/4j5PkT9qZGRkZO7z7GsrB0pLsycX1O7k61eKWJd7LBwEoglFHZoPKa8DmOnSklPn3nbXQgkAEAAAAAAAAEMq3iDoU7PUv6Rp5lb3XNySyoSXJp+GUsrx5lpM4rm2o3dtOhXpqpSqJqUGspr+fmcebD5zTvwcnwya9+I6GZbr2RW0V/irRyrWkstJrnD18V5mG4eWfGz47jfb6uOcym4N5Ml2vvDVNqXinYzU6M8fGt5vMKi8u9Pwa5+q5GMgzLpe2xW2uJmgbgUKdSt/R95Lk6Vd8m/BT5Jrwzh+RmK5xUlhxfRppp/I1ERkGj7z17QsU7HUakKa/cbUo/J5RZUs22bTDeSndL433UFGnqmlwrYwnUo1Ow0vHGGvlgy3T+K217yCdSvUt5v92pH9e8u0uLNESeHR3rtu4SdPVKbz4xa/Q51ufQ5pNanR+Zds6r1SGjy5bm0OGc6lS5eGWeVe8SdrWKfa1D4kl+7Tg2NxqRlKJXi+SXVlV6nxvtqScdM0x1Gm0pVp4XyS/UwLXuIG4NwuULq9lTt5P+5pPsLHg8c375JskXNuXiPoO3ISpKur69XJULd5Sfg5c0vq/IpXdW89V3be/EvKvwqEH/V28OUI/wA35v6GOSk22285Pl8zNu2pNPkAEVKMw4a6NU1bedklGXw7earTeOWE8rPvg4tq7B1ndM41Lag6Vr2sOvPkuXXHmX3tDZ1htPT1Qt0pVppfEqPq2hRkhJHcQZH0CCQAAAAAAAAAAAAAAACgACAAAAAAAAAAQ+gAHVvb620+3lcXdeFGlBZc5vCRUe7OM81KpabepxUctO6msv1iui9Xn0E3aLT1HWtP0W3dfUbyhbU10lUqJZ8kurfkkV3rnHDTrecqWj2NS7aylWqTdOOfFLDbXqkU1qGqXup3U7m9ualxWm8ynUm235c+7yOiWSTsZbqvErc+sVJSnqDt4S/6Oiuyl79fqeFcazqd9F0rrUrmtTfWNSs2vk3g88F0IAAAnBy29Z0LinWSTdOakk+jw8mytXaW1926fa6pcaVR7V1ShVVSGYTaaT5tNZ69+SWjWZRb5JZZc/B7Z1xa1Z65fU5Um4ONJNYbTSyzMtO4a7W0quq1tp0ZVF0lVm5temXhfIyunTjSgoQilFckksE3Ryknharu3Q9GnKF5qNGFRfudtNp+Dx09z40veu39Yl8O11Ck6n8Dlhv08QMgAAAAAAAAAAAAADXTjRT+Hv6bxjtWtOXrza/Q2LNeeOC/49xf/qVP/amWCuQAUWfwtebO6X+Uv1M8ZgXCx/2a7Xg0/uZ6fa4L+sfJ8i6zqQAeh50M46qTg8nIz5ksrBYldMCScW0wVYmPKSO7HDSaOidulJOKRL7HIACAAAAAAAAAR3EgD4lTjVhKnUjGUZJpprKaaK43XsKtSlO90uLqU+cp0kucV4rxRZQzk48vHM468XLcGu84uLafdyPjBdet7N0rW3KtKDtrqXP41JYy/Fro/XkyvdZ2Lq2luUo0vxVFdKlFZ+a6r6ny8+DLHrp9PDmxyYsDknCdOTjOLjJdU1ho4zhZp2iCUQCCSACiQRgYIaAAUSmCVBvosneuNLvra0jdV7WdGjUliDksZfknzHxqbjzzvWNahQvKFS5oKvRhNSqUu2120nlrK8VyOkwFbTbQ3Bp2v6PTq6bCFOnSio/CgkvhpLksd2OhkZr7wb1atabqdj2v6m5g8p9Mr/8AP0NgkjNEkgEAAAAAAAAAAAAAAAAAAFAAEAAAAAAAAA69zcU7WhKtUeIxTbZ2DAeLmsVNK2lKNGXZncT+G2nzSaaePmBVXELfN3uPVa1tSqShYUZtQgnyk08ZfiYO+Yzj3IRqepoCSD1NM0XUdar/AAdNsq91NvD+HDKXq+iXm2J7HmAtrb/BC7uIwra7extIvDdvRxOePBvon6ZM9seF20bGEYrS43El+9cTc2/bKX0Jbq6GtAL+3Xwd0rU6Sq6GqenXCzJw5unL25te3LyK5qcJt406rp/0ZCcU+U4VoYfzafzRRhlKlOtUjCCblJpRSWW23hG1+2rCWmba02xqJKdC2hGSXiks/Ur7YvCaWkXtPUtbnSrVqTUqNGDbjFrmpSfe0+iXLlnL6FrkEGF8Sd4La2huNKS/F3OYU1nmljmzNJNRWWzWvifuF7g3fcOEs21jm3pLOU2m8v3efZIkGJ3t9cahcSr3NR1Kj6ts+be4r2lVVaFSVOceacW00cC5EmoNjuF27Zbk0GVK6ad3atKo882n0ZnZSnAanVV5qlZP+qcIRefHLf2LrJexIAIAAAAAAAABr/xxj/xypyz1s6a+UpmwBQ/HSk1uO2qP962is+jl/MCqwAaFjcK5r4l3Tf7yTx44/wDyWKysOF1RLWa0W+Xwn9v/AALPZ9nxrvCPleTP3SAD0vMEMkDY6dZNTbPhHaqw7S80dVpp4ZrZsOWi3nBxHYoQabbJRzgHFOtGPLv8AOUHVdzLuSQVeb8PkNDtA63xpeXyJVdrqskHYyQ3yOD4774/Uh3D8AOwmGddXEiHWqPvj8ipp2ckI63xp+KI+LN96+Q0ruIiXQ6bnJvLkx2peJNbWOpqO3tL1PLubSDl/GlhmM3/AAwtpuU7K9+G2+UKqyvmjL3KX8Qcm+rON4ML9PRjzZYz1VXXnD/XbXnG3jXS6fCmm8enJnjXGh6lbSarWVeDXXNNr9C6k2u87dGp2oY64655nDLw5XTHy7O419lb1ocpU5J+DR8/Cn/BL5Gwc6FCpHEqFJ+GaaePocctO0+bcnY27ffmmv5HK+H/AOuk8v8A8UB8Kf8ABL5HLSsrqvjsUKk/SLZfcNOsKb7ULK3T/wBEn+hzpKPJQgl4KKX2E8O/dL5U+opW02Zrt418PT6qXjNdlfXBkencLrif59QvadBfwU/zP59F9Sx223lsYO2Hi4y7rnfJt6eJpu0tE0zHwbb4tRYfxKjy/l0R4vFJZ0OzXhWfywZsYhxLpdvbVOrj9i4ivZp/yLzYY44XUZ4uS3ObVEASj5L6bMOF0+xvqz54ymvobNdxq7w7m4b1sWu+aXzaNoiZehIAMgAAAAAAAAAAAAAAAAACgACAAAAAAAAAVfxvtKlXbNvc01mNKt+fyTXL7Fnnj7j0alrei1rCos/EWY+TXT+XuQamkHqa9o1xomrV7G4hKMqc2llYyu48w1BB72kbv13QqPwNOv50aWW+z2U0m+vVM8IjJdjN1xc3nFOP9KQee928M/Y6lfiXu+4bdTWq3P8AgSh/spGJgXQ9+e+NzVFiWt3zX/aJ/wAz5jvDcKeVrN371n/M8ICDNdO4obr0+cJf0nKvBdYVoKaa821n5MtrZPEqx3RBWtyo218lzp55T81n7GuKO3Y3lWwvaV1RlKM6U1JNPD5Fslg2i3hqn9D7bvLtS7MoUpdl+eHj64NVpznUlKcnlybbfi3zZefELU6mpcJqN6sZrOl22u9Zw/qkUTLuRiehDAPS0arbUdatKt7HNrGtB1ljP5E1nl38jY2E4Y7f/wAH9nWyqU2ri8/tFZNc02lheWEly8cmaHVtbmhd2tOva1I1KFSKlTnBppp9Gsdx2V0Mj6ABAAAAAAAAAKU48W7Vzp9dLk4NP5susqbjrRctJsqv8M2l81/MCjAAaGacNKnY3HKOcdqlPn7Mtgp3YFb4O6KH+WnD5rH6lwo+t4t1jp83yv8ASQAex4whkgD56nzKnGT5xTORIYCacaow8D7SSWETgYLtXzJtReDqSbcm2dya/Kzp1ItPmIPkAGgy0Mht95BnYnJGSckZKvSQQAJAARAAAAAG0o7Fr+y/Y4Y022kl1O3CKhFR7+8lI+h8gQlgipAARGUTkjBOAuwxjiLHOzq7z0rUn91+pk5jvEBdrZl1z6VKT+qX6nn5/wDFduC/vFLYAYR8V9ZkWxG1u/T8d9aK+qNqTVHZ1T4W6tOm3hfiIp+7wbWp5LkqQAYAAAAAAAAAAAAAAAAAAFAAEAAAAAAAAAAAYvu3ZWl7wsuxdw+HcQT+FcQX5oPz8V5Morc3DvXdszlUq2n4m1TfZuKH5otdza6r3WPNmzh8yhGaakk0xBpu008Mg2l1PYW2tXcpXOk0FOfWUI9hv3WGY5c8Ett1M/AlWpJ9zm3j6llGvwwXr/wGaU/2b2py83/M54cD9CTzO4rT93/MWigwbFUeDe06KSlbVKr73KtNP6M5a/B7aE6TjRsalKT/AHlXm/u2JRrgdqxtat/d0rehHtVKk1FLxyy37rgVSncdq11TsU28qMottr17vqZTtfhppG3p/FSVausfnaf693pgu9Dj1bbMqvC9aW4N1KFt2ksc8pNr3ya5STTeV3m4zSmmmsp8mma/cTti1dB1CpqtjRc9NuJ5eF/czbbafk+qfTnj1zOxXAANCzOFm+J6Nfx0e9rN2FeS+GnzVOb8PJvu8efjm/ItTipJ5TNPIVJU5KUXhxaafmjaHYWqy1faNlc1J9uooKM35pE+xkwAIAAAAAAAABXPGm2+Ls5VcZ+FUXtlr+RYpiHEu2/FbHvaaWWkmvVJgaxgA1B7O2K3wdetZJ4bqRS+aL1qcpy9X9zX7TanwNQoVe+FSMl7NMv6U1NqcXmM1lPxT5n0/Eu5Y+f5U9yniSQiT3x4QAAAAAAAA45U1JvJyE4A634bnyZDtn3S+h2VgF2Ot+GffL6D8NL+NfI7IGx1vw0v418g7d5y5r5HZA2Ot+Ff8S+RKto/xM7AGxw/hohW8O9v5nKz5KPlW9Nfuv5n38Kn/CiUSQfPwqf8KCpxi8qKRKeSSCEkuhIAAAFAAhsCQAQQjwd8xctoXaXjT+k0e+ePuqj8ba99HGWqXaXs0/0OPNN4uvFdZSqMfUEyWJP1IPiXt9mPR0Gbp6/YTXVXNN/66NtKEu1QpzxjMU8exqJYTdPULea7qsH8mmbaaVU+LpdrPOc0o8/ZEpp3QQSZAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABBBIAgEAFEkAEAAFQOlq1tQvNMube5pRq0p0JdqEllPkAFalXsVG8qRisJSfL3OsABJsXwZ/5lL/TP7IACwAAAAAAAAAAAPE3ZTjPa+oKUU/6p9QCDU4IAo5aH97D1X3L909v+jLTn/wBDD7AH0fD+3h8vqO0QgD6b56UACAAAAAABgFK+V1PruQAqQABFAAAAAAgAoEAFBH0AQAAQAAAPnvAKlfSABFDqasl/Ql9y/wCgn9mAcuT/AC6cfagZ/ty9WfIB8O9vtTp9R/bj6o2t2jOVTbVk5ty/ql1AJR7ZIBkAAUAAAAAAAAAAAAAAAAf/2Q==";
  function parseJwt(token) {
    const base64Url = token.split(".")[1];
    const base64 = base64Url.replace(/-/g, "+").replace(/_/g, "/");
    const jsonPayload = decodeURIComponent(atob(base64).split("").map(function(c) {
      return "%" + ("00" + c.charCodeAt(0).toString(16)).slice(-2);
    }).join(""));
    return JSON.parse(jsonPayload);
  }
  async function refreshAT(tochecktoken, an) {
    const accessTokenKey = `at_${an}`;
    const token = tochecktoken || await KV.get(accessTokenKey) || "";
    if (token && token !== "Bad_RT" && token !== "Old_AT") {
      const payload = parseJwt(token);
      const currentTime = Math.floor(Date.now() / 1e3);
      if (payload.exp > currentTime) {
        return token;
      }
    }
    const refreshTokenKey = `rt_${an}`;
    const url = "https://token.oaifree.com/api/auth/refresh";
    const refreshToken = await KV.get(refreshTokenKey);
    if (refreshToken) {
      const response = await fetch(url, {
        method: "POST",
        headers: {
          "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8"
        },
        body: `refresh_token=${refreshToken}`
      });
      if (response.ok) {
        const data = await response.json();
        const newAccessToken = data.access_token;
        await KV.put(accessTokenKey, newAccessToken);
        return newAccessToken;
      } else {
        await KV.put(accessTokenKey, "Bad_RT");
        return "";
      }
    } else {
      await KV.put(accessTokenKey, "Old_AT");
      return "";
    }
  }
  function generatePassword(token) {
    let hash = 7;
    for (let i = 0; i < token.length; i++) {
      const char = token.charCodeAt(i);
      hash = (hash << 5) - hash + char;
      hash = hash & hash;
    }
    let hashStr = Math.abs(hash).toString();
    while (hashStr.length < 15) {
      hashStr = "7" + hashStr;
    }
    return hashStr.substring(0, 15);
  }
  async function verifyTurnstile(responseToken) {
    const removeTurnstile = "";//await KV.get("RemoveTurnstile") || "";
    if (removeTurnstile) {
      return "true";
    }
    const verifyUrl = "https://challenges.cloudflare.com/turnstile/v0/siteverify";
    const secretKey = await KV.get("TurnstileKeys");
    const response = await fetch(verifyUrl, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        secret: secretKey,
        response: responseToken
      })
    });
    const data = await response.json();
    return data.success;
  }
  async function usermatch(userName2, usertype) {
    const typeUsers = await KV.get(usertype) || "";
    const typeUsersArray = typeUsers.split(",");
    return typeUsersArray.includes(userName2);
  }
  async function checkContentForModeration(messages, apiKey) {
    const response = await fetch("https://api.oaipro.com/v1/moderations", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: `Bearer ${apiKey}`
      },
      body: JSON.stringify({ input: messages })
    });
    if (response.ok) {
      const data = await response.json();
      return {
        shouldBlock: data.results.some((result) => result.flagged)
      };
    } else {
      console.error("Moderation API returned an error:", response.status);
      return { shouldBlock: false };
    }
  }
  async function handleRequest(request) {
    const url = new URL(request.url);
    if (url.protocol !== "https:") {
      url.protocol = "https:";
      return Response.redirect(url.toString(), 301);
    }
    const voiceURL = "oaivoice.kylelv.com";//await KV.get("VoiceURL");
    const admin = await KV.get("Admin");
    // const chatlogourl = await KV.get("ChatLogoURL") || await KV.get("LogoURL") || logo;
    const chatlogourl = logo;
    let chatusername = "USER";
    const chatmail = "kylelv.com";
    // const apiKey = await KV.get("ModerationApiKey");
    const cookies = request.headers.get("Cookie");
    let aian = "";
    if (cookies) {
      const cookiesArray = cookies.split(";");
      for (const cookie of cookiesArray) {
        const [name, value] = cookie.trim().split("=");
        if (name === "aian") {
          aian = value;
        } else if (name === "username") {
          chatusername = value;
        }
      }
    }
    // const userName2 = params.get("un");
    // if (userName2) {
    //   const accountNumber = params.get("an-custom") || params.get("an") || "1";
    //   return await handleLogin(userName2, accountNumber, "do not need Turnstle", "");
    // }
    if (!admin) {
      return handleInitialRequest(request);
    }
    if (url.pathname.startsWith("/share")) {
      url.host = "chatgpt.com";
      return new Response(null, {
        status: 302,
        headers: {
          'Location': url.toString()
        }
      });
    }
    if (url.pathname.startsWith("/admin")) {
      if (request.method === "GET") {
        return handleAdminGetRequest();
      } else if (request.method === "POST") {
        return handleAdminPostRequest(request);
      } else {
        return new Response("Method not allowed", { status: 405 });
      }
    }
    if (url.pathname.startsWith("/token")) {
      if (request.method === "GET") {
        return handlePlusGetRequest();
      } else if (request.method === "POST") {
        return handlePlusPostRequest(request);
      } else {
        return new Response("Method not allowed", { status: 405 });
      }
    }
    // if (url.pathname.startsWith("/export")) {
    //   if (request.method === "GET") {
    //     return handleExportGetRequest(request);
    //   } else if (request.method === "POST") {
    //     return handleExportPostRequest(request);
    //   } else {
    //     return new Response("Method not allowed", { status: 405 });
    //   }
    // }
    if (url.pathname.startsWith("/user")) {
      if (request.method === "GET") {
        return handleUserGetRequest();
      } else if (request.method === "POST") {
        return handleUserPostRequest(request);
      } else {
        return new Response("Method not allowed", { status: 405 });
      }
    }
    if (url.pathname.startsWith("/register")) {
      if (request.method === "GET") {
        return new Response(await getRegisterHTML(), {
          headers: { "content-type": "text/html" }
        });
      } else if (request.method === "POST") {
        return handleRegisterPostRequest(request);
      } else {
        return new Response("Method not allowed", { status: 405 });
      }
    }
    if (url.pathname.startsWith("/usage")) {
      return handleUsageRequest(request);
    }
    if (url.pathname === "/auth/login_auth0") {
      if (request.method === "GET") {
        return handleLoginGetRequest(request);
      } else if (request.method === "POST") {
        return handleLoginPostRequest(request);
      } else {
        return new Response("Method not allowed", { status: 200 });
      }
    }
    if (url.pathname === "/auth/login") {
      // url.host = "new.oaifree.com";
      url.pathname = "/auth/login_auth0";
      url.protocol = "https";
      // return fetch(new Request(url, request));
      return new Response(null, {
        status: 302,
        headers: {
          'Location': url.toString()
        }
      });
    }
    // if (apiKey) {
    //   if (url.pathname === "/backend-api/conversation") {
    //     const requestBody = await request.json();
    //     const userMessages = requestBody.messages.filter(
    //       (msg) => msg.author.role === "user" && msg.content.content_type === "text"
    //     ).map((msg) => msg.content.parts.join(" "));
    //     if (userMessages.length > 0) {
    //       const moderationResult = await checkContentForModeration(
    //         userMessages,
    //         apiKey
    //       );
    //       if (moderationResult.shouldBlock) {
    //         const UserName = userMessages;
    //         await deletelog(UserName, aian, "Message");
    //         return new Response(
    //           JSON.stringify({ detail: "\u6B64\u5185\u5BB9\u53EF\u80FD\u8FDD\u53CD\u4E86\u6211\u4EEC\u7684\u4F7F\u7528\u653F\u7B56" }),
    //           {
    //             status: 451,
    //             headers: { "Content-Type": "application/json" }
    //           }
    //         );
    //       }
    //     }
    //     url.host = "new.oaifree.com";
    //     const newnewRequest = new Request(url, {
    //       body: JSON.stringify(requestBody),
    //       method: request.method,
    //       headers: request.headers
    //     });
    //     return fetch(newnewRequest);
    //   }
    // }
    if (url.pathname === "/switch_account") {
      if (request.method !== 'POST') {
        return new Response('Method Not Allowed', { status: 405 });
      }
      
      const data = await request.formData();
      const newAccount = data.get('an');
      const currentAccount = request.headers.get('Cookie').split(';')
      .find(c => c.trim().startsWith('username='))
      ?.split('=')[1];
      
      try {
        // 示例：更新用户的当前账号
        return await handleLogin(currentAccount, newAccount, "do not need Turnstle", false);

      } catch (error) {
        return new Response('Internal Server Error', { status: 500 });
      }
    }


    url.host = "new.oaifree.com";
    const modifiedRequest = new Request(url, request);
    if (voiceURL) {
      modifiedRequest.headers.set("X-Voice-Base", `https://${voiceURL}`);
    }
    const response = await fetch(modifiedRequest);
    if (url.pathname === "/backend-api/conversations") {
      const data = await response.json();
      data.items = data.items.filter((item) => item.title !== "\u{1F512}");
      return new Response(JSON.stringify(data), {
        status: response.status,
        headers: response.headers
      });
    }
    if (url.pathname === "/backend-api/me") {
      const data = await response.json();
      data.picture = `${chatlogourl}`;
      data.email = `${chatmail}`;
      data.name = `${chatusername} [${aian}]`;
      return new Response(JSON.stringify(data), {
        status: response.status,
        headers: response.headers
      });
    }
    if (url.pathname === "/backend-api/gizmo_creator_profile") {
      const data = await response.json();
      data.name = `${chatusername} [${aian}]`;
      data.display_name = `${chatusername} [${aian}]`;
      return new Response(JSON.stringify(data), {
        status: response.status,
        headers: response.headers
      });
    }
    if (url.pathname === "/backend-api/accounts/check") {
      const data = await response.json();
      for (const accountId in data.accounts) {
        if (data.accounts[accountId].account) {
          data.accounts[accountId].account.name = `${chatusername} [${aian}]`;
        }
      }
      return new Response(JSON.stringify(data), {
        status: response.status,
        headers: response.headers
      });
    }

    let contentType = response.headers.get('content-type')

    if (contentType && contentType.includes('text/html') && response.status === 200) {
        let html = await response.text()
        html = await injectFloatingBall(html)
        return new Response(html, {
            headers: { 'content-type': 'text/html' }
        })
    }
    
    return response;
  }
  
  async function injectFloatingBall(html) {
      const aliveAccountOptions = await getAliveAccountOptions();
      const floatingBallHTML = `
          <div class="floating-ball-container">
              <div class="floating-ball" onclick="toggleMenu()">换号</div>
              <div id="menu" class="menu">
                  <div class="input-wrapper">
                      <select id="an" name="an" class="choose-account">
                          <option value="" selected disabled hidden>Select Account</option>
                          ${aliveAccountOptions}
                      </select>
                  </div>
                  <button class="continue-btn" onclick="submitAccount()">切换</button>
                  <form id="switchAccountForm" method="POST" action="/switch_account" style="display: none;">
                      <input type="hidden" id="switchAccountInput" name="an">
                  </form>
              </div>
          </div>
          <style>
              @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap');
  
              .floating-ball-container {
                  position: fixed;
                  top: 25%;
                  right: 20px;
                  transform: translateY(-50%);
                  z-index: 1000;
                  cursor: move;
              }
  
              .floating-ball {
                  width: 40px;
                  height: 40px;
                  background-color: var(--main-surface-secondary);
                  color: var(--text-secondary);
                  border-radius: 50%;
                  display: flex;
                  justify-content: center;
                  align-items: center;
                  font-size: 15px; 
                  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
                  transition: right 0.3s;
              }
  
              .menu {
                  display: none;
                  position: absolute;
                  top: 50%;
                  right: 60px;
                  transform: translateY(-50%);
                  background-color: var(--main-surface-secondary);;
                  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
                  border-radius: 8px;
                  overflow: hidden;
                  z-index: 1001;
                  width: 180px;
              }
  
              .menu .input-wrapper {
                  padding: 10px;
                  background-color: var(--main-surface-secondary);;
              }
  
              .menu .choose-account {
                  width: 100%;
                  padding: 10px;
                  background-color: var(--main-surface-secondary);
                  color: var(--text-secondary);
                  margin-bottom: 10px;
                  border: 1px solid #c2c8d0;
                  border-radius: 6px;
                  font-size: 16px;
              }
  
              .menu .continue-btn {
                  width: 100%;
                  padding: 10px;
                  background-color: var(--main-surface-secondary);
                  color: var(--text-secondary);
                  border: none;
                  border-radius: 6px;
                  cursor: pointer;
                  font-size: 16px;
              }
  
              .menu .continue-btn:hover {
                  background-color: var(--main-surface-secondary);
              }
          </style>
          <script>
              function toggleMenu() {
                  var menu = document.getElementById('menu');
                  if (menu.style.display === 'none' || menu.style.display === '') {
                      menu.style.display = 'block';
                  } else {
                      menu.style.display = 'none';
                  }
              }
  
              document.addEventListener('click', function(event) {
                  var menu = document.getElementById('menu');
                  var ball = document.querySelector('.floating-ball');
                  if (!menu.contains(event.target) && !ball.contains(event.target)) {
                      menu.style.display = 'none';
                  }
              });
  
              function submitAccount() {
                  var account = document.getElementById('an').value;
                  if (account) {
                      var form = document.getElementById('switchAccountForm');
                      var input = document.getElementById('switchAccountInput');
                      input.value = account;
                      form.submit();
                  } else {
                      alert('Please select an account');
                  }
              }
  
              function makeDraggable(element) {
                  let isDragging = false;
                  let startY, initialY;
                  const maxHeight = window.innerHeight * 0.9;
                  const minHeight = window.innerHeight * 0.1;
  
                  element.addEventListener('mousedown', startDrag);
                  element.addEventListener('mouseup', stopDrag);
                  element.addEventListener('mousemove', preventDrag);
  
                  function startDrag(e) {
                      // Ignore drag start if the event target is an input or select element
                      if (e.target.tagName === 'INPUT' || e.target.tagName === 'SELECT' || e.target.tagName === 'BUTTON') {
                          return;
                      }
                      isDragging = true;
                      startY = e.clientY;
                      initialY = element.offsetTop;
                      document.addEventListener('mousemove', drag);
                      document.addEventListener('mouseup', stopDrag);
                  }
  
                  function drag(e) {
                      if (isDragging) {
                          const dy = e.clientY - startY;
                          let newTop = initialY + dy;
  
                          // Constrain the movement within 10% to 90% of the viewport height
                          if (newTop < minHeight) {
                              newTop = minHeight;
                          } else if (newTop > maxHeight) {
                              newTop = maxHeight;
                          }
  
                          element.style.top = newTop + 'px';
                          element.style.right = '20px'; // Keep it on the right side
                          element.style.left = 'auto';  // Ensure it stays on the right side
                      }
                  }
  
                  function stopDrag() {
                      isDragging = false;
                      document.removeEventListener('mousemove', drag);
                      document.removeEventListener('mouseup', stopDrag);
                  }
  
                  function preventDrag(e) {
                      if (e.target.tagName === 'INPUT' || e.target.tagName === 'SELECT' || e.target.tagName === 'BUTTON') {
                          isDragging = false;
                      }
                  }
              }
  
              document.addEventListener('DOMContentLoaded', function() {
                  const floatingBallContainer = document.querySelector('.floating-ball-container');
                  makeDraggable(floatingBallContainer);
              });
  
              window.toggleMenu = toggleMenu;
              window.submitAccount = submitAccount;
          </script>
      `;
  
      return html.replace('</body>', `${floatingBallHTML}</body>`);
  }
  
  
  
  
  



  async function handleInitialRequest(request) {
    const admin = await KV.get("Admin");
    if (!admin) {
      if (request.method === "GET") {
        return handleInitialGetRequest();
      } else if (request.method === "POST") {
        return handleInitialPostRequest(request);
      } else {
        return new Response("Method not allowed", { status: 405 });
      }
    } else {
      return new Response("Already Have Admin", { status: 405 });
    }
  }
  async function handleInitialPostRequest(request) {
    const formData = await request.formData();
    const fields = [
      "TurnstileKeys",
      "TurnstileSiteKey",
      "Users",
      "VIPUsers",
      "FreeUsers",
      "Admin",
      "ForceAN",
      "SetAN",
      "PlusMode",
      "FreeMode",
      "WebName",
      "WorkerURL",
      "VoiceURL",
      "LogoURL",
      "CDKEY",
      "AutoDeleteCDK",
      "FKDomain",
      "Status",
      "PlusAliveAccounts",
      "FreeAliveAccounts",
      "rt_1",
      "rt_2",
      "at_1",
      "at_2",
      "FreeURL",
      "ChatUserName",
      "ChatMail",
      "ChatLogoURL",
      "RemoveTurnstile",
      "ModerationApiKey"
    ];
    for (const field of fields) {
      let value = formData.get(field);
      if (value) {
        if (field === "WorkerURL" && !value) {
          value = new URL(request.url).hostname;
        }
        if (field === "VoiceURL" && !value) {
          let hostname = new URL(request.url).hostname;
          let parts = hostname.split(".");
          parts[0] = "voice";
          value = parts.join(".");
        }
        if (field === "FreeURL" && !value) {
          let hostname = new URL(request.url).hostname;
          let parts = hostname.split(".");
          parts[0] = "free";
          value = parts.join(".");
        }
        await KV.put(field, value);
      }
    }
    return new Response("Parameters updated successfully", { status: 200 });
  }
  async function handleInitialGetRequest() {
    const html = await getInitialHTML();
    return new Response(html, { headers: { "Content-Type": "text/html" } });
  }
  async function getInitialHTML() {
    return `
  <!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Variable Shortcut Entry</title>
    <style>
      body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background-color: #f2f2f5;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        margin: 0;
        overflow: hidden;
      }
      .container {
        background-color: #ffffff;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        max-width: 600px;
        width: 100%;
        height: 90vh;
        overflow-y: auto;
        box-sizing: border-box;
      }
      .container h1 {
        margin-bottom: 24px;
        font-size: 28px;
        color: #333;
        font-weight: 600;
      }
      .container label {
        display: block;
        font-size: 16px;
        margin-bottom: 8px;
        color: #555;
        text-align: left;
      }
      .container input {
        padding: 12px;
        border: 1px solid #ddd;
        border-radius: 8px;
        font-size: 16px;
        box-sizing: border-box;
        width: 100%;
        margin-bottom: 20px;
      }
      .container button {
        background-color: #007aff;
        border: none;
        color: white;
        font-size: 18px;
        cursor: pointer;
        transition: background-color 0.3s;
        padding: 12px;
        border-radius: 8px;
        width: 100%;
      }
      .container button:hover {
        background-color: #005fcb;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Variable Shortcut Entry</h1>
      <form id="variableEntryForm" action="/" method="POST">
        ${getInitialFieldsHTML()}
        <button type="submit">Submit</button>
      </form>
    </div>
  </body>
  </html>
`;
  }
  function getInitialFieldsHTML() {
    const fields = [
      { name: "Admin", label: "\u3010\u5FC5\u586B\u3011\u7BA1\u7406\u5458 (\u7528\u4E8E\u7BA1\u7406\u9762\u677F\u7684\u9A8C\u8BC1\u4F7F\u7528\uFF0C\u4E14\u53EF\u770B\u6240\u6709\u804A\u5929\u8BB0\u5F55)", isrequired: "required" },
      { name: "TurnstileKeys", label: "\u3010\u5FC5\u586B\u3011Turnstile\u5BC6\u94A5", isrequired: "required" },
      { name: "TurnstileSiteKey", label: "\u3010\u5FC5\u586B\u3011Turnstile\u7AD9\u70B9\u5BC6\u94A5", isrequired: "required" },
      { name: "Remove Turnstile", label: "\u3010\u9009\u586B\u3011\u6709\u503C\u5219\u7981\u7528Turnstile\u9A8C\u8BC1\uFF0C\u4EE5\u4E0A\u4E24\u4E2A\u53C2\u6570\u968F\u610F" },
      { name: "ModerationApiKey", label: "\u3010\u9009\u586B\u3011\u5982\u9700\u542F\u7528\u9053\u5FB7\u5BA1\u67E5\uFF0C\u5219\u586B\u5165\u59CB\u7687oaipro\u7684apikey" },
      { name: "WorkerURL", label: "\u7AD9\u70B9\u57DF\u540D (\u65E0\u9700https://\u3010\u9009\u586B\uFF0C\u4E0D\u586B\u5219\u81EA\u52A8\u50A8\u5B58worker\u7684\u57DF\u540D\u3011" },
      { name: "VoiceURL", label: "voice\u670D\u52A1\u57DF\u540D (\u65E0\u9700https://\u3010\u9009\u586B\uFF0C\u4E0D\u586B\u5219\u81EA\u52A8\u50A8\u5B58worker\u7684\u57DF\u540D\u3011" },
      { name: "FreeURL", label: "Free\u9009\u8F66\u9762\u677F\u57DF\u540D (\u65E0\u9700https://\u3010\u9009\u586B\uFF0C\u4E0D\u586B\u5219\u81EA\u52A8\u50A8\u5B58worker\u7684\u57DF\u540D\u3011" },
      { name: "WebName", label: "\u7AD9\u70B9\u540D\u79F0" },
      { name: "LogoURL", label: "Logo\u56FE\u7247\u5730\u5740 (\u9700https://)" },
      { name: "ChatLogoURL", label: "chat\u754C\u9762\u7528\u6237\u5934\u50CF\u5730\u5740(\u9700https://)" },
      { name: "ChatUserName", label: "chat\u754C\u9762\u7528\u6237\u540D (\u9700https://)" },
      { name: "ChatMail", label: "chat\u754C\u9762\u7528\u6237\u90AE\u7BB1 (\u9700https://)" },
      { name: "Users", label: "\u9ED8\u8BA4\u7528\u6237 (\u4EE5aaa,bbb,ccc\u5F62\u5F0F\u586B\u5199)" },
      { name: "VIPUsers", label: "VIP\u7528\u6237 (\u5373\u79C1\u8F66\u7528\u6237\uFF0C\u65E0\u901F\u7387\u548C\u65F6\u95F4\u9650\u5236)" },
      { name: "FreeUsers", label: "\u514D\u8D39\u7528\u6237 (\u6709\u901F\u7387\u548C\u65F6\u95F4\u9650\u5236)" },
      { name: "ForceAN", label: "\u5F3A\u5236\u4E0A\u8F66 (\u82E5\u8BBE\u7F6E\u4E3A1\uFF0C\u7528\u6237\u540D\u4E3Axxx_n\u7684\u79C1\u8F66\u7528\u6237\u7528\u767B\u9646\u5F3A\u5236\u8FDB\u5165n\u53F7\u8F66\uFF0C\u5FFD\u7565\u767B\u9646\u6240\u9009\u8F66\u53F7)" },
      { name: "SetAN", label: "\u9009\u8F66\u6A21\u5F0F\uFF1A(\u5982\u53EA\u6709\u4E00\u8F86\u8F66\u5219\u586B1\u3002\u767B\u9646\u9875\u624B\u52A8\u9009\u8F66\u5219\u7559\u7A7A\u3002\u5982\u5F00\u542F\u968F\u673A\u6216\u987A\u5E8F\u8F6E\u8BE2\uFF0C\u586BTrue\uFF0C\u5E76\u7528\u4E0B\u9762\u4E24\u4E2A\u53D8\u91CF\u63A7\u5236)" },
      { name: "PlusMode", label: "Plus\u53F7\u968F\u673A\u7684\u8F6E\u8BE2\u65B9\u5F0F (Order\u6216\u8005Random)" },
      { name: "FreeMode", label: "\u666E\u53F7\u968F\u673A\u7684\u8F6E\u8BE2\u65B9\u5F0F (Order/Random\u3002\u5982\u586BPlus\u5219\u4F7F\u7528Plus\u53F7\u6C60)" },
      { name: "CDKEY", label: "\u6CE8\u518C\u53EF\u7528\u7684\u6FC0\u6D3B\u7801 (\u4EE5aaa,bbb,ccc\u683C\u5F0F)" },
      { name: "AutoDeleteCDK", label: "\u8BBE\u7F6E\u4E3A1\u6FC0\u6D3B\u7801\u53EA\u53EF\u7528\u4E00\u6B21" },
      { name: "FKDomain", label: "\u628Asharetoken\u5F53at\u7528\u65F6\uFF0C\u6307\u5B9A\u53CD\u4EE3\u57DF\u540D" },
      { name: "Status", label: "\u670D\u52A1\u72B6\u6001 (\u82E5\u4E3A\u975E\u7A7A\uFF0C\u65E0\u89C6openai\u5B98\u65B9\u6545\u969C\u901A\u544A\uFF0C\u59CB\u7EC8\u5141\u8BB8\u767B\u9646)" },
      { name: "PlusAliveAccounts", label: "plus\u53F7\u6C60\u5B58\u6D3B\u5E8F\u53F7 (\u4EE51,2,3\u683C\u5F0F)\u3010\u53EF\u4E0D\u586B\uFF0C\u5F55\u5165\u8D26\u53F7\u540E\u81EA\u52A8\u586B\u3011" },
      { name: "FreeAliveAccounts", label: "\u666E\u53F7\u5B58\u6D3B\u5E8F\u53F7 (\u4EE51,2,3\u683C\u5F0F)\u3010\u53EF\u4E0D\u586B\uFF0C\u5F55\u5165\u8D26\u53F7\u540E\u81EA\u52A8\u586B\u3011" },
      { name: "rt_1", label: "rt_1\u3010\u53EF\u4E0D\u586B\uFF0C\u5F55\u5165\u8D26\u53F7\u540E\u81EA\u52A8\u586B\u3011" },
      { name: "at_1", label: "at_1 (\u82E5\u5DF2\u6709rt\uFF0Cat\u53EF\u4E0D\u586B)\u3010\u53EF\u4E0D\u586B\uFF0C\u5F55\u5165\u8D26\u53F7\u540E\u81EA\u52A8\u586B\u3011" }
    ];
    return fields.map((field) => `
    <label for="${field.name}">${field.label}</label>
    <input type="text" id="${field.name}" name="${field.name}" ${field.isrequired}>
  `).join("");
  }
  async function handlePlusPostRequest(request) {
    const formData = await request.formData();
    const adminuserName = formData.get("adminusername");
    const refreshToken = formData.get("refresh_token");
    const accountNumber = formData.get("account_number");
    const accountUsers = formData.get("account_users");
    const turnstileResponse = formData.get("cf-turnstile-response");
    if (!turnstileResponse || !await verifyTurnstile(turnstileResponse)) {
      return generatePlusResponse("Turnstile verification failed", adminuserName);
    }
    if (!adminuserName || !refreshToken || !accountNumber) {
      return generatePlusResponse(`Missing parameters: ${!adminuserName ? "adminusername " : ""}${!refreshToken ? "refresh_token " : ""}${!accountNumber ? "account_number " : ""}`, adminuserName);
    }
    const adminusers = await KV.get("Admin");
    if (!adminusers) {
      return new Response("Done", { status: 200 });
    }
    if (!adminusers.split(",").includes(adminuserName)) {
      return generatePlusResponse("Unauthorized access.", adminuserName);
    }
    if (accountUsers) {
      const currentUsers = await KV.get("VIPUsers");
      const newUsers = accountUsers.split(",").map((vipuser) => `${vipuser}_${accountNumber}`).join(",");
      const updatedUsers = `${currentUsers},${newUsers}`;
      await KV.put("VIPUsers", updatedUsers);
    }
    let jsonAccessToken, jsonRefreshToken;
    try {
      const tokenData = JSON.parse(refreshToken);
      const rtKey = `rt_${accountNumber}`;
      const atKey = `at_${accountNumber}`;
      if (tokenData.access_token) {
        jsonAccessToken = tokenData.access_token;
        jsonRefreshToken = tokenData.refresh_token || "";
        await KV.put(atKey, jsonAccessToken);
        await KV.put(rtKey, jsonRefreshToken);
        await addToAliveAccountList(jsonAccessToken, accountNumber);
        return generatePlusResponse(`account_number:
${accountNumber}

refresh_token:
${jsonRefreshToken}

access_token:
${jsonAccessToken}`, adminuserName);
      } else if (tokenData.accessToken) {
        jsonAccessToken = tokenData.accessToken;
        jsonRefreshToken = "";
        await KV.put(atKey, jsonAccessToken);
        await KV.put(rtKey, jsonRefreshToken);
        await addToAliveAccountList(jsonAccessToken, accountNumber);
        return generatePlusResponse(`account_number:
${accountNumber}

refresh_token:
${jsonRefreshToken}

access_token:
${jsonAccessToken}`, adminuserName);
      }
    } catch (e) {
    }
    if (!jsonAccessToken && refreshToken.includes(",")) {
      const tokens = refreshToken.split(",");
      let currentAccountNumber = parseInt(accountNumber);
      for (const token of tokens) {
        const result2 = await processToken(token.trim(), currentAccountNumber, adminuserName);
        currentAccountNumber++;
      }
      return generatePlusResponse("Batch processing completed.", adminuserName);
    }
    const result = await processToken(refreshToken, accountNumber, adminuserName);
    return result;
  }
  async function processToken(token, accountNumber, adminuserName) {
    const rtKey = `rt_${accountNumber}`;
    const atKey = `at_${accountNumber}`;
    if (token.startsWith("fk-")) {
      await KV.put(atKey, token);
      await addToAliveAccountList("", accountNumber);
      return generatePlusResponse(`Share token stored directly`, adminuserName);
    }
    if (token.length > 50) {
      await KV.put(atKey, token);
      await addToAliveAccountList(token, accountNumber);
      return generatePlusResponse(`Access token stored directly`, adminuserName);
    }
    const url = "https://token.oaifree.com/api/auth/refresh";
    const response = await fetch(url, {
      method: "POST",
      headers: {
        "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8"
      },
      body: `refresh_token=${token}`
    });
    if (response.ok) {
      const data = await response.json();
      const newAccessToken = data.access_token;
      await KV.put(atKey, newAccessToken);
      await KV.put(rtKey, token);
      await addToAliveAccountList(newAccessToken, accountNumber);
      return generatePlusResponse(`account_number:
${accountNumber}

refresh_token:
${token}

access_token:
${newAccessToken}`, adminuserName);
    } else {
      return generatePlusResponse("Error fetching access token, Bad refresh token.", adminuserName);
    }
  }
  async function handlePlusGetRequest() {
    const html = await getPlusHTML();
    return new Response(html, { headers: { "Content-Type": "text/html" } });
  }
  async function checkAccountType(access_token) {
    const apiRequest = new Request("https://api.oaifree.com/v1/chat/completions", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Authorization": `Bearer ${access_token}`
      },
      body: JSON.stringify({
        "model": "gpt-3.5-turbo",
        "messages": [
          { "role": "user", "content": "hi" }
        ],
        "max_tokens": 1
      })
    });
    try {
      const apiResponse = await fetch(apiRequest);
      if (apiResponse.status === 401) {
        return "Free";
      } else {
        return "Plus";
      }
    } catch (error) {
    }
  }
  async function addToAliveAccountList(accessToken, accountNumber) {
    const accountType = await checkAccountType(accessToken);
    const aliveAccountsKey = `${accountType}AliveAccounts`;
    let aliveAccount = await KV.get(aliveAccountsKey);
    let aliveAccountList = aliveAccount ? aliveAccount.split(",") : [];
    if (!aliveAccountList.includes(accountNumber)) {
      aliveAccountList.push(accountNumber);
      await KV.put(aliveAccountsKey, aliveAccountList.join(","));
    }
  }
  async function generatePlusResponse(message, adminuserName) {
    const errorHtml = `
    <div class="ulp-field ulp-error">
      <div class="ulp-error-info">
        <span class="ulp-input-error-icon" role="img" aria-label="Error"></span>
        ${message}
      </div>
    </div>
  `;
    const replacements = [
      { target: '<button type="submit">Submit</button>', replacement: errorHtml + '<button class="continue-btn" type="submit">Continue</button>' },
      { target: '<input type="password" id="adminsername" name="adminusername" required>', replacement: `<input type="password" id="adminsername" name="adminusername" value="${adminuserName}" required>` }
    ];
    const html = await getPlusHTML();
    let responseHtml = html;
    for (const { target, replacement } of replacements) {
      responseHtml = responseHtml.replace(target, replacement);
    }
    return new Response(responseHtml, { headers: { "Content-Type": "text/html" } });
  }
  async function getPlusHTML() {
    const WorkerURL = myWorkerURL;//await KV.get("WorkerURL");
    const turnstileSiteKey = await KV.get("TurnstileSiteKey");
    const removeTurnstile = "";//await KV.get("RemoveTurnstile") || "";
    return `
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Token Management</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: #f2f2f5;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      margin: 0;
    }
    .login-container {
      background-color: #ffffff;
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
      max-width: 400px;
      width: 100%;
      text-align: center;
    }
    .login-container h1 {
      margin-bottom: 24px;
      font-size: 28px;
      color: #333;
      font-weight: 600;
    }
    .login-container label {
      display: block;
      font-size: 16px;
      margin-bottom: 8px;
      color: #555;
      text-align: left;
    }
    .login-container input {
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 16px;
      box-sizing: border-box;
      width: 100%;
      margin-bottom: 20px;
    }
    .login-container .button-container {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .login-container .button-container .row {
      display: flex;
      gap: 10px;
    }
    .login-container button {
      padding: 12px;
      background-color: #007aff;
      border: none;
      border-radius: 8px;
      color: white;
      font-size: 18px;
      cursor: pointer;
      transition: background-color 0.3s;
      flex: 1;
    }
    .login-container button:hover {
      background-color: #005fcb;
    }
    .ulp-field.ulp-error .ulp-error-info {
      margin-top: 4px;
      margin-bottom: 4px;
      display: flex;
      font-size: 10px;
      line-height: 1;
      text-align: left;
      color: #d00e17;
    }
    .ulp-input-error-icon {
      margin-right: 4px;
    }
  </style>
</head>
<body>
  <div class="login-container">
    <h1>Token Management</h1>
    <form id="managePlus" action="/token" method="POST">
      <label for="adminusername">Admin Username:</label>
      <input type="password" id="adminsername" name="adminusername" required>
      <label for="refresh_token">RT/AT:</label>
      <input type="text" id="refresh_token" name="refresh_token" required>
      <label for="account_number">Account Number:</label>
      <input type="number" id="account_number" name="account_number" required>
      <label for="account_users">Account Users:</label>
      <input type="text" id="account_users" name="account_users">
      <input type="hidden" id="cf-turnstile-response" name="cf-turnstile-response" required>
      <div class="button-container">
        <button type="submit">Submit</button>
        <div class="row">
          <button type="button" onclick="window.location.href='https://token.oaifree.com/auth'">Get Token</button>
          <button type="button" onclick="window.location.href='https://${WorkerURL}'">Go Login</button>
        </div>
      </div>
      <div style="height: 20px;"></div>
      <div class="cf-turnstile" data-sitekey="${turnstileSiteKey}" data-callback="onTurnstileCallback"></div>
    </form>
  </div>
  <script>
  if ('${removeTurnstile}') {
       document.getElementById('cf-turnstile-response').value= "111";
      }

  function onTurnstileCallback(token) {
    document.getElementById('cf-turnstile-response').value = token;
  }

  document.getElementById('managePlus').addEventListener('submit', function(event) {
    if (!document.getElementById('cf-turnstile-response').value) {
      alert('Please complete the verification.');
      event.preventDefault();
    }
  });
  <\/script>
  <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer><\/script>
</body>
</html>
`;
  }
  async function handleExportGetRequest(request) {
    const url = new URL(request.url);
    const adminUserName = url.searchParams.get("admin");
    const tokenType = url.searchParams.get("token");
    const accountType = url.searchParams.get("type");
    if (!adminUserName || !tokenType || !accountType) {
      const html = await getExportHTML();
      return new Response(html, { headers: { "Content-Type": "text/html" } });
    }
    const adminusers = await KV.get("Admin") || "";
    if (adminusers.split(",").includes(adminUserName)) {
      const validTokenTypes = ["rt", "at"];
      const validAccountTypes = ["Free", "Plus"];
      if (!validTokenTypes.includes(tokenType) || !validAccountTypes.includes(accountType)) {
        return new Response("Invalid token or account type", { status: 400 });
      }
      return await exportToken(tokenType, accountType);
    } else {
      return new Response("Unauthorized access", { status: 403 });
    }
  }
  async function exportToken(tokenType, accountType) {
    const accountTypeKey = `${accountType}AliveAccounts`;
    let aliveAccount = await KV.get(accountTypeKey);
    if (!aliveAccount) {
      return new Response("No accounts found", { status: 404 });
    }
    let accountNumbers = aliveAccount.split(",");
    let tokens = [];
    const batchSize = 10;
    for (let i = 0; i < accountNumbers.length; i += batchSize) {
      const batch = accountNumbers.slice(i, i + batchSize);
      const batchTokens = await Promise.all(batch.map(async (accountNumber) => {
        if (tokenType == "at") {
          return await refreshAT("", accountNumber);
        } else {
          let rtKey = `${tokenType}_${accountNumber}`;
          return await KV.get(rtKey);
        }
      }));
      tokens.push(...batchTokens);
    }
    let fileContent = tokens.join("\n");
    let fileName = `${tokenType}.txt`;
    return new Response(fileContent, {
      headers: {
        "Content-Type": "text/plain",
        "Content-Disposition": `attachment; filename=${fileName}`
      }
    });
  }
  async function handleExportPostRequest(request) {
    const formData = await request.formData();
    const adminPassword = formData.get("adminpassword");
    const tokenType = formData.get("token_type");
    const accountType = formData.get("account_type");
    const operationType = formData.get("operation_type");
    const turnstileResponse = formData.get("cf-turnstile-response");
    if (!turnstileResponse || !await verifyTurnstile(turnstileResponse)) {
      return new Response("Turnstile verification failed", { status: 403 });
    }
    const adminusers = await KV.get("Admin");
    if (!adminusers) {
      return new Response("Admin list is empty", { status: 500 });
    }
    if (adminusers.split(",").includes(adminPassword)) {
      if (operationType == "txt") {
        const validTokenTypes = ["rt", "at"];
        const validAccountTypes = ["Free", "Plus"];
        if (!validTokenTypes.includes(tokenType) || !validAccountTypes.includes(accountType)) {
          return new Response("Invalid token or account type", { status: 400 });
        }
        return await exportToken(tokenType, accountType);
      } else {
        const WorkerURL = myWorkerURL;//await KV.get("WorkerURL");
        return new Response(`https://${WorkerURL}/export?admin=${adminPassword}&type=${accountType}&token=${tokenType}`, { status: 200 });
      }
    } else {
      return new Response("Unauthorized access", { status: 403 });
    }
  }
  async function getExportHTML() {
    const turnstileSiteKey = await KV.get("TurnstileSiteKey");
    const removeTurnstile = "";//await KV.get("RemoveTurnstile") || "";
    return `
  <!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Export Tokens</title>
    <style>
      body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background-color: #f2f2f5;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        margin: 0;
      }
      .export-container {
        background-color: #ffffff;
        padding: 40px;
        border-radius: 12px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        max-width: 400px;
        width: 100%;
        text-align: center;
      }
      .export-container h1 {
        margin-bottom: 24px;
        font-size: 28px;
        color: #333;
        font-weight: 600;
      }
      .export-container label {
        display: block;
        font-size: 16px;
        margin-bottom: 8px;
        color: #555;
        text-align: left;
      }
      .export-container input, .export-container select {
        padding: 12px;
        border: 1px solid #ddd;
        border-radius: 8px;
        font-size: 16px;
        box-sizing: border-box;
        width: 100%;
        margin-bottom: 20px;
        height: 48px;
      }
      .export-container button {
        padding: 12px;
        background-color: #007aff;
        border: none;
        border-radius: 8px;
        color: white;
        font-size: 18px;
        cursor: pointer;
        transition: background-color 0.3s;
      }
      .export-container button:hover {
        background-color: #005fcb;
      }
    </style>
  </head>
  <body>
    <div class="export-container">
      <h1>Export Tokens</h1>
      <form id="exportTokens" action="/export" method="POST">
        <label for="adminpassword">Admin Password:</label>
        <input type="password" id="adminpassword" name="adminpassword" required>
        <label for="token_type">Token Type:</label>
        <select id="token_type" name="token_type" required>
          <option value="rt">Refresh Token</option>
          <option value="at">Access Token</option>
        </select>
        <label for="account_type">Account Type:</label>
        <select id="account_type" name="account_type" required>
          <option value="Free">Free</option>
          <option value="Plus">Plus</option>
        </select>
        <label for="operation_type">Operation Type:</label>
        <select id="operation_type" name="operation_type" required>
          <option value="txt">Download TXT</option>
          <option value="link">Generate Link</option>
        </select>
        <input type="hidden" id="cf-turnstile-response" name="cf-turnstile-response" required>
        <div class="cf-turnstile" data-sitekey="${turnstileSiteKey}" data-callback="onTurnstileCallback"></div>
        <button type="submit">Export</button>
      </form>
    </div>
    <script>
    if ('${removeTurnstile}') {
       document.getElementById('cf-turnstile-response').value= "111";
      }
      function onTurnstileCallback(token) {
        document.getElementById('cf-turnstile-response').value = token;
      }
  
      document.getElementById('exportTokens').addEventListener('submit', function(event) {
        if (!document.getElementById('cf-turnstile-response').value) {
          alert('Please complete the verification.');
          event.preventDefault();
        }
      });
    <\/script>
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer><\/script>
  </body>
  </html>
  `;
  }
  async function handleAdminPostRequest(request) {
    const formData = await request.formData();
    const adminuserName = formData.get("adminusername");
    const chooseAccount = formData.get("choose_account");
    const forceCar = formData.get("force_car");
    const temporaryAccount = formData.get("temporary_account");
    const turnstileResponse = formData.get("cf-turnstile-response");
    if (!turnstileResponse || !await verifyTurnstile(turnstileResponse)) {
      return generateAdminResponse("Turnstile verification failed");
    }
    if (!adminuserName) {
      return generateAdminResponse("Missing adminusername parameter");
    }
    const adminusers = await KV.get("Admin") || "";
    if (!adminusers || !adminusers.split(",").includes(adminuserName)) {
      return generateAdminResponse("Unauthorized");
    }
    if (chooseAccount) {
      if (chooseAccount.toLowerCase() === "true") {
        await KV.put("SetAN", "True");
      } else if (chooseAccount.toLowerCase() === "no") {
        await KV.put("SetAN", "");
      } else if (!isNaN(chooseAccount)) {
        await KV.put("SetAN", chooseAccount);
      }
    }
    if (forceCar) {
      const forceCarValue = forceCar.toLowerCase() === "yes" ? "1" : "0";
      await KV.put("ForceAN", forceCarValue);
    }
    if (temporaryAccount) {
      await KV.put("TemporaryAN", temporaryAccount);
    }
    return generateAdminResponse("Operation completed successfully");
  }
  async function handleAdminGetRequest() {
    const html = await getAdminHTML();
    return new Response(html, { headers: { "Content-Type": "text/html" } });
  }
  async function generateAdminResponse(message) {
    const errorHtml = `
 <div class="ulp-field ulp-error">
   <div class="ulp-error-info">
     <span class="ulp-input-error-icon" role="img" aria-label="Error"></span>
     ${message}
   </div>
 </div>
 `;
    const html = await getAdminHTML();
    const responseHtml = html.replace(
      '<button type="submit">Submit</button>',
      errorHtml + '<button type="submit">Submit</button>'
    );
    return new Response(responseHtml, { headers: { "Content-Type": "text/html" } });
  }
  async function getAdminHTML() {
    const WorkerURL = myWorkerURL;//await KV.get("WorkerURL");
    const turnstileSiteKey = await KV.get("TurnstileSiteKey");
    const removeTurnstile = "";//await KV.get("RemoveTurnstile") || "";
    return `
  <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>System Manager</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: #f2f2f5;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      margin: 0;
    }
    .login-container {
      background-color: #ffffff;
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
      max-width: 400px;
      width: 100%;
      text-align: center;
    }
    .login-container h1 {
      margin-bottom: 24px;
      font-size: 28px;
      color: #333;
      font-weight: 600;
    }
    .login-container label {
      display: block;
      font-size: 16px;
      margin-bottom: 8px;
      color: #555;
      text-align: left;
    }
    .login-container input, .login-container select, .login-container button {
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 16px;
      box-sizing: border-box;
      width: 100%;
      margin-bottom: 20px;
    }
    .login-container select {
      height: 48px;
    }
    .login-container button {
      background-color: #007aff;
      border: none;
      color: white;
      font-size: 18px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .login-container button:hover {
      background-color: #005fcb;
    }
    .tokenmanagement-buttons, .usagemanagement-buttons {
      display: flex;
      justify-content: space-between;
    }
    .tokenmanagement-buttons a, .usage-link, .return-button {
      display: block;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 16px;
      box-sizing: border-box;
      width: 48%;
      background-color: #007aff;
      color: white;
      text-align: center;
      text-decoration: none;
      transition: background-color 0.3s;
      margin-top: 10px;
    }
    .tokenmanagement-buttons a:hover, .usage-link:hover, .return-button:hover {
      background-color: #005fcb;
    }
    .ulp-field.ulp-error .ulp-error-info {
      margin-top: 4px;
      margin-bottom: 4px;
      display: flex;
      font-size: 14px;
      line-height: 1.4;
      text-align: left;
      color: #d00e17;
    }
    .ulp-input-error-icon {
      margin-right: 4px;
    }
  </style>
</head>
<body>
  <div class="login-container">
    <h1>System Manager</h1>
    <form id="manageAccountForm" action="/admin" method="POST">
      <input type="hidden" id="cf-turnstile-response" name="cf-turnstile-response" required>
      <label for="adminusername">Admin Username:</label>
      <input type="password" id="adminusername" name="adminusername" required>
      <label for="choose_account">Choose Account:</label>
      <input type="text" id="choose_account" name="choose_account" placeholder="True, No, or Number">
      <label for="force_car">Force Car:</label>
      <select id="force_car" name="force_car">
        <option value="">Choose...</option>
        <option value="yes">Yes</option>
        <option value="no">No</option>
      </select>
      <label for="temporary_account">Temporary Account:</label>
      <input type="text" id="temporary_account" name="temporary_account">
      <button type="submit">Submit</button>
    </form>
    <div class="tokenmanagement-buttons">
      <a href="https://${WorkerURL}/token">Token Management</a>
      <a href="https://${WorkerURL}/export">Export Tokens</a>
    </div>
    <div class="usagemanagement-buttons">
    <a href="https://${WorkerURL}/user" class="return-button">User Management</a>
      <a href="https://${WorkerURL}/usage" class="usage-link">Query User Usage</a>
    </div>
    <div style="height: 20px;"></div>
    <div class="cf-turnstile" data-sitekey="${turnstileSiteKey}" data-callback="onTurnstileCallback"></div>
  </div>
  <script>
  if ('${removeTurnstile}') {
       document.getElementById('cf-turnstile-response').value= "111";
      }
  function onTurnstileCallback(token) {
    document.getElementById('cf-turnstile-response').value = token;
  }

  document.getElementById('manageAccountForm').addEventListener('submit', function(event) {
    if (!document.getElementById('cf-turnstile-response').value) {
      alert('Please complete the verification.');
      event.preventDefault();
    }
  });
  <\/script>
  <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer><\/script>
</body>
</html>

  `;
  }
  async function handleUserGetRequest() {
    const html = await getUserHTML();
    return new Response(html, { headers: { "Content-Type": "text/html" } });
  }
  async function handleUserPostRequest(request) {
    const formData = await request.formData();
    const adminuserName = formData.get("adminusername");
    const newUsers = formData.get("newusers");
    const userType = formData.get("user_type");
    const turnstileResponse = formData.get("cf-turnstile-response");
    const userRegex = new RegExp(`^${newUsers}_(\\d+)$`);
    let fullUserName = newUsers;
    const defaultusers = await KV.get("Users") || "";
    const vipusers = await KV.get("VIPUsers") || "";
    const freeusers = await KV.get("FreeUsers") || "";
    const admin = await KV.get("Admin") || "";
    const users = `${defaultusers},${vipusers},${freeusers},${admin}`;
    users.split(",").forEach((user) => {
      const match = user.match(userRegex);
      if (match) {
        fullUserName = user;
      }
    });
    if (!turnstileResponse || !await verifyTurnstile(turnstileResponse)) {
      return generateUserResponse("Turnstile verification failed");
    }
    if (newUsers && userType === "query-limits") {
      const accountNumber = await getToCheckAccountNumber(fullUserName, "Plus");
      const accessToken = await KV.get(`at_${accountNumber}`) || "1";
      const shareToken = await getToCheckShareToken(fullUserName, accessToken);
      const queryLimit = await handleQueryRequest(accessToken, shareToken);
      return generateUserResponse(`User: ${fullUserName}, AN: ${accountNumber}, ${queryLimit}`);
    }
    if (!adminuserName || !newUsers || !userType) {
      return generateUserResponse(`Missing parameters: ${!adminuserName ? "adminusername " : ""}${!newUsers ? "newusers " : ""}${!userType ? "user_type " : ""}`);
    }
    const adminusers = await KV.get("Admin") || "";
    if (!adminusers || !adminusers.split(",").includes(adminuserName)) {
      return generateUserResponse("Unauthorized");
    }
    if (userType === "delete") {
      await deleteUsers(fullUserName);
      const users2 = await KV.get("Users") || "";
      const freeUsers = await KV.get("FreeUsers") || "";
      const vipUsers = await KV.get("VIPUsers") || "";
      return generateUserResponse(`User deleted successfully.

users:
${users2}

freeusers:
${freeUsers}

vipusers:
${vipUsers}`);
    } else {
      await addUsers(newUsers, userType);
      const users2 = await KV.get("Users") || "";
      const freeUsers = await KV.get("FreeUsers") || "";
      const vipUsers = await KV.get("VIPUsers") || "";
      const WorkerURL = myWorkerURL;//await KV.get("WorkerURL");
      return generateUserResponse(`User Added successfully

Login link:
https://${WorkerURL}/?un=${newUsers}

users:
${users2}

freeusers:
${freeUsers}

vipusers:
${vipUsers}`);
    }
  }
  async function addUsers(newUsers, userType) {
    const currentUsers = await KV.get(userType) || "";
    const updatedUsers = `${currentUsers},${newUsers}`.replace(/^,/, "");
    await KV.put(userType, updatedUsers);
  }
  async function deleteUsers(usersToDelete) {
    const userTypes = ["Users", "FreeUsers", "VIPUsers"];
    for (const userType of userTypes) {
      const currentUsers = await KV.get(userType) || "";
      const updatedUsers = currentUsers.split(",").filter((user) => !usersToDelete.split(",").includes(user)).join(",");
      await KV.put(userType, updatedUsers);
    }
    const accountNumber = await getToCheckAccountNumber(userName, "Plus");
    return await deleteShareToken(usersToDelete, accountNumber);
  }
  async function deleteShareToken(userName2, accountNumber) {
    const url = "https://chat.oaifree.com/token/register";
    const passed = generatePassword(userName2);
    const accessToken = await KV.get(`at_${accountNumber}`) || "xxx";
    const body = new URLSearchParams({
      access_token: accessToken,
      // 使用从全局变量中获取的 accessToken
      unique_name: passed,
      //前缀+无后缀用户名
      // site_limit: '', // 限制的网站
      expires_in: "-1"
      // token有效期（单位为秒），填 0 则永久有效
      // gpt35_limit: '0', // gpt3.5 对话限制
      // gpt4_limit: '0', // gpt4 对话限制，-1为不限制
      // show_conversations: 'false', // 是否显示所有人的会话
      // temporary_chat: 'false', //默认启用临时聊天
      // show_userinfo: 'false', // 是否显示用户信息
      // reset_limit: 'false' // 是否重置对话限制
    }).toString();
    await fetch(url, {
      method: "POST",
      headers: {
        "Content-Type": "application/x-www-form-urlencoded"
      },
      body
    });
    return "Delete ST suceed.";
  }
  async function getToCheckShareToken(userName2, accessToken) {
    const url = "https://chat.oaifree.com/token/register";
    const passed = generatePassword(userName2);
    const body = new URLSearchParams({
      access_token: accessToken,
      // 使用从全局变量中获取的 accessToken
      unique_name: passed,
      //前缀+无后缀用户名
      //site_limit: '', // 限制的网站
      //expires_in: '0', // token有效期（单位为秒），填 0 则永久有效
      //gpt35_limit: '-1', // gpt3.5 对话限制
      //gpt4_limit: '-1', // gpt4 对话限制，-1为不限制
      //show_conversations: 'false', // 是否显示所有人的会话
      //temporary_chat: 'false', //默认启用临时聊天
      //show_userinfo: 'false', // 是否显示用户信息
      reset_limit: "false"
      // 是否重置对话限制
    }).toString();
    const apiResponse = await fetch(url, {
      method: "POST",
      headers: {
        "Content-Type": "application/x-www-form-urlencoded"
      },
      body
    });
    const responseText = await apiResponse.text();
    const tokenKeyMatch = /"token_key":"([^"]+)"/.exec(responseText);
    const tokenKey = tokenKeyMatch ? tokenKeyMatch[1] : "Can not get share token.";
    return tokenKey;
  }
  async function generateUserResponse(message) {
    const errorHtml = `
 <div class="ulp-field ulp-error">
   <div class="ulp-error-info">
     <span class="ulp-input-error-icon" role="img" aria-label="Error"></span>
     ${message}
   </div>
 </div>
 `;
    const html = await getUserHTML();
    const responseHtml = html.replace(
      '<button type="submit">Submit</button>',
      errorHtml + '<button type="submit">Submit</button>'
    );
    return new Response(responseHtml, { headers: { "Content-Type": "text/html" } });
  }
  async function getToCheckAccountNumber(userName2, antype) {
    const lastLoginLogs = await KV.get(`${antype}LoginLogs`);
    if (lastLoginLogs) {
      const logArray = JSON.parse(lastLoginLogs);
      const userLogs = logArray.filter((log) => log.user === userName2);
      if (userLogs.length > 0) {
        const lastAccount = userLogs[userLogs.length - 1].accountNumber;
        return lastAccount;
      }
    }
    return 1;
  }
  async function handleQueryRequest(accessToken, shareToken) {
    const limits = await queryLimits(accessToken, shareToken);
    return `Usage: GPT-4: ${limits.gpt4Limit}, GPT-3.5: ${limits.gpt35Limit}`;
  }
  async function queryLimits(accessToken, shareToken) {
    const CACHE_TTL = 60;
    const MAX_RETRIES = 3;
    const cacheKey = `limits_${shareToken}`;
    const cachedData = await KV.get(cacheKey);
    if (cachedData) {
      return JSON.parse(cachedData);
    }
    const url = `https://chat.oaifree.com/token/info/${shareToken}`;
    let attempt = 0;
    while (attempt < MAX_RETRIES) {
      try {
        const response = await fetch(url, {
          method: "GET",
          headers: {
            "Authorization": `Bearer ${accessToken}`,
            "Content-Type": "application/json"
          }
        });
        if (!response.ok) {
          throw new Error(`Failed to fetch limits (status: ${response.status})`);
        }
        const result = await response.json();
        const data = {
          gpt4Limit: result.gpt4_limit,
          gpt35Limit: result.gpt35_limit
        };
        await KV.put(cacheKey, JSON.stringify(data), { expirationTtl: CACHE_TTL });
        return data;
      } catch (error) {
        console.error(`Attempt ${attempt + 1} failed:`, error);
        attempt += 1;
        if (attempt >= MAX_RETRIES) {
          throw new Error("Failed to fetch limits after multiple attempts");
        }
        await new Promise((resolve) => setTimeout(resolve, 1e3));
      }
    }
  }
  async function getUserHTML() {
    const turnstileSiteKey = await KV.get("TurnstileSiteKey");
    const removeTurnstile = "";//await KV.get("RemoveTurnstile") || "";
    return `
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Manage Account</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: #f2f2f5;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      margin: 0;
    }
    .login-container {
      background-color: #ffffff;
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
      max-width: 400px;
      width: 100%;
      text-align: center;
    }
    .login-container h1 {
      margin-bottom: 24px;
      font-size: 28px;
      color: #333;
      font-weight: 600;
    }
    .login-container label {
      display: block;
      font-size: 16px;
      margin-bottom: 8px;
      color: #555;
      text-align: left;
    }
    .login-container input, .login-container select, .login-container button {
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 16px;
      box-sizing: border-box;
      width: 100%;
      margin-bottom: 20px;
    }
    .login-container select {
      height: 48px;
    }
    .login-container button {
      background-color: #007aff;
      border: none;
      color: white;
      font-size: 18px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .login-container button:hover {
      background-color: #005fcb;
    }
    .ulp-field.ulp-error .ulp-error-info {
      margin-top: 4px;
      margin-bottom: 4px;
      display: flex;
      font-size: 14px;
      line-height: 1.4;
      text-align: left;
      color: #d00e17;
  }
  .ulp-input-error-icon {
      margin-right: 4px;
  }
  </style>
</head>
<body>
  <div class="login-container">
    <h1>Manage Account</h1>
    <form id="manageAccountForm" action="/user" method="POST">
    <input type="hidden" id="cf-turnstile-response" name="cf-turnstile-response" required>
      <label for="adminusername">Admin Username:</label>
      <input type="password" id="adminusername" name="adminusername">
      <label for="newusers">User Name:</label>
      <input type="text" id="newusers" name="newusers" required>
      <label for="user_type">Operation Type:</label>
      <select id="user_type" name="user_type" required>
        <option value="query-limits">Query Usage</option>
        <option value="Users">Add Users</option>
        <option value="FreeUsers">Add Free Users</option>
        <option value="VIPUsers">Add VIP Users</option>
        <option value="delete">Delete Users</option>
       
      </select>
      <button type="submit">Submit</button>
      <div style="height: 20px;"></div>
      <div class="cf-turnstile" data-sitekey="${turnstileSiteKey}" data-callback="onTurnstileCallback"></div>
    </form>
  </div>
  <script>
if ('${removeTurnstile}') {
       document.getElementById('cf-turnstile-response').value= "111";
      }
  function onTurnstileCallback(token) {
    document.getElementById('cf-turnstile-response').value = token;
  }

  document.getElementById('manageAccountForm').addEventListener('submit', function(event) {
    if (!document.getElementById('cf-turnstile-response').value) {
      alert('Please complete the verification.');
      event.preventDefault();
    }
  });
  <\/script>
  <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer><\/script>
</body>
</html>
`;
  }
  async function handleRegisterPostRequest(request) {
    const formData = await request.formData();
    const cdkey = formData.get("cdkey");
    const username = formData.get("username");
    const turnstileResponse = formData.get("cf-turnstile-response");
    if (!await verifyTurnstile(turnstileResponse)) {
      return generateRegisterResponse("Turnstile verification failed");
    }
    const autoDeleteCDK = await KV.get("AutoDeleteCDK");
    const cdkeyStore = await KV.get("CDKEY") || "";
    const cdkeyList = cdkeyStore ? cdkeyStore.split(",") : [];
    if (!cdkeyList.includes(cdkey)) {
      return generateRegisterResponse("Invalid CDKEY");
    }
    await registerlog(username, cdkey);
    if (autoDeleteCDK) {
      const updatedCdkeyList = cdkeyList.filter((key) => key !== cdkey);
      await KV.put("CDKEY", updatedCdkeyList.join(","));
    }
    const freeUsers = await KV.get("FreeUsers");
    const freeUsersList = freeUsers ? freeUsers.split(",") : [];
    if (freeUsersList.includes(username)) {
      return generateRegisterResponse("Username already exist.");
    }
    freeUsersList.push(username);
    await KV.put("FreeUsers", freeUsersList.join(","));
    return generateRegisterResponse("Registration successful");
  }
  async function registerlog(userName2, cdkey) {
    const currentTime = (/* @__PURE__ */ new Date()).toLocaleString("zh-CN", { timeZone: "Asia/Shanghai" });
    const logEntry = {
      user: userName2,
      time: currentTime,
      cdkey
    };
    const lastDeleteLogs = await KV.get(`RegisterLogs`);
    let logArray = [];
    if (lastDeleteLogs) {
      logArray = JSON.parse(lastDeleteLogs);
    }
    logArray.push(logEntry);
    await KV.put(`RegisterLogs`, JSON.stringify(logArray));
  }
  async function generateRegisterResponse(message) {
    const errorHtml = `
   <div class="ulp-field ulp-error">
     <div class="ulp-error-info">
       <span class="ulp-input-error-icon" role="img" aria-label="Error"></span>
       ${message}
     </div>
   </div>
   `;
    const html = await getRegisterHTML();
    const responseHtml = html.replace(
      '<button class="continue-btn" type="button" id="continueBtn">Continue</button>',
      errorHtml + '<button class="continue-btn" type="button" id="continueBtn">Continue</button>'
    );
    return new Response(responseHtml, { headers: { "Content-Type": "text/html" } });
  }
  async function getRegisterHTML() {
    const WorkerURL = myWorkerURL;//await KV.get("WorkerURL");
    const turnstileSiteKey = await KV.get("TurnstileSiteKey");
    const websiteName = await KV.get("WebName") || "Haibara AI";
    // const logourl = await KV.get("LogoURL") || logo;
    const logourl = logo;
    const removeTurnstile = "";//await KV.get("RemoveTurnstile") || "";
    return `
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <link rel="apple-touch-icon" sizes="180x180" href="https://cdn1.oaifree.com/_next/static/media/apple-touch-icon.82af6fe1.png"/>
      <link rel="icon" type="image/png" sizes="32x32" href="https://cdn4.oaifree.com/_next/static/media/favicon-32x32.630a2b99.png"/>
      <link rel="icon" type="image/png" sizes="16x16" href="https://cdn4.oaifree.com/_next/static/media/favicon-16x16.a052137e.png"/>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Sign Up - ${websiteName}</title>
      <style>
          @charset "UTF-8";
          .oai-header img {
              height: auto;
              width: 128px;
              margin-top: 80px;
          }
  
          a {
              font-weight: 400;
              text-decoration: inherit;
              color: #10a37f;
          }
  
          .main-container {
              flex: 1 0 auto;
              min-height: 0;
              display: grid;
              box-sizing: border-box;
              grid-template-rows: [left-start center-start right-start] 1fr [left-end center-end right-end];
              grid-template-columns: [left-start center-start] 1fr [left-end right-start] 1fr [center-end right-end];
              align-items: center;
              justify-content: center;
              justify-items: center;
              grid-column-gap: 160px;
              column-gap: 160px;
              padding: 80px;
              width: 100%;
          }
  
          .login-container {
              background-color: #fff;
              padding: 0 40px 40px;
              border-radius: 3px;
              box-shadow: none;
              width: 320px;
              box-sizing: content-box;
              flex-shrink: 0;
          }
  
          .title-wrapper {
              padding: 0 40px 24px;
              box-sizing: content-box;
              text-align: center;
          }
  
          .title {
              font-size: 32px;
              font: 'S\xF6hne';
              margin: 0;
              color: #2d333a;
              width: 320px;
          }
  
          .input-wrapper {
              position: relative;
              margin-bottom: 25px;
              width: 320px;
              box-sizing: content-box;
          }
  
          .email-input {
              -webkit-appearance: none;
              -moz-appearance: none;
              appearance: none;
              background-color: #fff;
              border: 1px solid #c2c8d0;
              border-radius: 6px;
              box-sizing: border-box;
              color: #2d333a;
              font-family: inherit;
              font-size: 16px;
              height: 52px;
              line-height: 1.1;
              outline: none;
              padding-block: 1px;
              padding-inline: 2px;
              padding: 0 16px;
              transition:
                  box-shadow 0.2s ease-in-out,
                  border-color 0.2s ease-in-out;
              width: 100%;
              text-rendering: auto;
              letter-spacing: normal;
              word-spacing: normal;
              text-transform: none;
              text-indent: 0px;
              text-shadow: none;
              display: inline-block;
              text-align: start;
              margin: 0;
          }
  
          .email-input:focus,
          .email-input:valid {
              border: 1px solid #10a37f;
              outline: none;
          }
  
          .email-input:focus-within {
              box-shadow: 1px #10a37f;
          }
  
          .email-input:focus + .email-label,
          .email-input:valid + .email-label {
              font-size: 14px;
              top: 0;
              left: 10px;
              color: #10a37f;
              background-color: #fff;
          }
  
          .email-label {
              position: absolute;
              top: 26px;
              left: 16px;
              background-color: #fff;
              color: #6f7780;
              font-size: 16px;
              font-weight: 400;
              margin-bottom: 8px;
              max-width: 90%;
              overflow: hidden;
              pointer-events: none;
              padding: 1px 6px;
              text-overflow: ellipsis;
              transform: translateY(-50%);
              transform-origin: 0;
              transition:
                  transform 0.15s ease-in-out,
                  top 0.15s ease-in-out,
                  padding 0.15s ease-in-out;
              white-space: nowrap;
              z-index: 1;
          }
  
          .continue-btn {
              position: relative;
              height: 52px;
              width: 320px;
              background-color: #10a37f;
              color: #fff;
              margin: 24px 0 0;
              align-items: center;
              justify-content: center;
              display: flex;
              border-radius: 6px;
              padding: 4px 16px;
              font: inherit;
              border-width: 0px;
              cursor: pointer;
          }
  
          .continue-btn:hover {
              box-shadow: inset 0 0 0 150px #0000001a;
          }
  
          :root {
              font-family:
                  S\xF6hne,
                  -apple-system,
                  BlinkMacSystemFont,
                  Helvetica,
                  sans-serif;
              line-height: 1.5;
              font-weight: 400;
              font-synthesis: none;
              text-rendering: optimizeLegibility;
              -webkit-font-smoothing: antialiased;
              -moz-osx-font-smoothing: grayscale;
          }
  
          .page-wrapper {
              display: flex;
              flex-direction: column;
              justify-content: space-between;
              min-height: 100%;
          }
  
          .oai-header {
              display: flex;
              justify-content: center;
              align-items: center;
              width: 100%;
              background-color: #fff;
          }
  
          body {
              background-color: #fff;
              display: block;
              margin: 0;
          }
  
          .content-wrapper {
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              width: 100%;
              height: auto;
              white-space: normal;
              border-radius: 5px;
              position: relative;
              grid-area: center;
              box-shadow: none;
              vertical-align: baseline;
              box-sizing: content-box;
          }
  
          .checkbox-wrapper {
              margin: 20px 0;
              display: flex;
              align-items: center;
          }
  
          .checkbox-label {
              margin-left: 8px;
              font-weight: 600;
              color: #6f7780;
              font-size: 14px;
          }
  
          .help-icon {
              display: inline-block;
              margin-left: 5px;
              color: #10a37f;
              cursor: pointer;
              font-weight: bold;
          }
  
          .tooltip {
              visibility: hidden;
              min-width: 140px;
              max-width: 300px;
              line-height: 20px; 
              min-height: 90px; 
              display: flex;
              align-items: center;
              justify-content: center;
              background-color: black;
              color: #fff;
              text-align: center;
              border-radius: 6px;
              
              position: absolute;
              z-index: 1;
              bottom: 150%;
              left: 50%;
              margin-left: -70px; /* Half of the width to center the tooltip */
              opacity: 0;
              transition: opacity 0.3s, visibility 0.3s ease-in-out;
          }
  
          .tooltip::after {
              content: "";
              position: absolute;
              top: 100%;
              left: 50%;
              margin-left: -5px;
              border-width: 5px;
              border-style: solid;
              border-color: black transparent transparent transparent;
          }
  
          .field-container {
              display: flex;
              margin-bottom: 20px;
              width: 320px;
              box-sizing: content-box;
          }
  
          .field-container select {
              flex: 3;
              padding: 12px;
              border: 1px solid #c2c8d0;
              border-radius: 6px 0 0 6px;
              font-size: 16px;
          }
  
          .field-container input[type="number"] {
              flex: 1;
              padding: 12px;
              border: 1px solid #c2c8d0;
              border-radius: 0 6px 6px 0;
              font-size: 16px;
          }
  
          .cf-turnstile {
              display: flex;
              justify-content: center;
              margin-top: 10px;
          }
          .other-page {
              text-align: center;
              margin-top: 14px;
              margin-bottom: 0;
              font-size: 14px;
              width: 320px;
          }
          .divider-wrapper {
              display: flex;
              flex-direction: row;
              text-transform: uppercase;
              border: none;
              font-size: 12px;
              font-weight: 400;
              margin: 0;
              padding: 24px 0 0;
              align-items: center;
              justify-content: center;
              width: 320px;
              vertical-align: baseline;
          }
          
          .divider-wrapper:before {
              content: "";
              border-bottom: 1px solid #c2c8d0;
              flex: 1 0 auto;
              height: .5em;
              margin:0
          }
          .divider-wrapper:after{
              content: "";
              border-bottom: 1px solid #c2c8d0;
              flex: 1 0 auto;
              height: .5em;
              margin:0
          }
          .ulp-field.ulp-error .ulp-error-info {
            margin-top: 4px;
            margin-bottom: 4px;
            display: flex;
            font-size: 14px;
            line-height: 1.4;
            text-align: left;
            color: #d00e17;
        }
        
        .ulp-input-error-icon {
            margin-right: 4px;
        }

        .footer {
          text-align: center;
          font-size: 12px;
          padding: 10px;
      }

      .footer a {
          color: black;
          text-decoration: none;
      }

      .footer a:hover {
          text-decoration: none;
          color: black;
      }

          </style>
          </head>
          <body>
              <div id="root">
                  <div class="page-wrapper">
                      <header class="oai-header">
                          <a href="https://${WorkerURL}/admin">
                              <img src="${logourl}" alt="Logo">
                          </a>
                      </header>
                      <main class="main-container">
                          <section class="content-wrapper">
                              <div class="title-wrapper"><h1 class="title">Create your account</h1></div>
                              <div class="login-container">
                                  <form id="manageAccountForm0" action="/register" method="POST">
                                      <div class="input-wrapper" id="cdkeyWrapper">
                                          <input
                                              class="email-input"
                                              inputmode="text"
                                              type="text"
                                              id="cdkey"
                                              name="cdkey"
                                              autocomplete="off"
                                              autocapitalize="none"
                                              spellcheck="false"
                                              required
                                              placeholder=" "
                                          />
                                          <label class="email-label" for="cdkey">CDKEY</label>
                                      </div>
                                      <div class="input-wrapper" id="usernameWrapper" style="display: none;">
                                      <input
                                          class="email-input"
                                          inputmode="text"
                                          type="text"
                                          id="username"
                                          name="username"
                                          autocomplete="off"
                                          autocapitalize="none"
                                          spellcheck="false"
                                          placeholder=" "
                                          required
                                      />
                                      <label class="email-label" for="username">Your Username</label>
                                    </div>
                                      <input type="hidden" id="cf-turnstile-response" name="cf-turnstile-response" required>
                                      <button class="continue-btn" type="button" id="continueBtn">Continue</button>
                                      <div class="cf-turnstile" data-sitekey="${turnstileSiteKey}" data-callback="onTurnstileCallback"></div>
                                  </form>
          
                                  <div class="divider-wrapper"><span class="divider">Or</span></div>
                                  <p class="other-page">Already have an account? <a class="other-page-link" href="https://${WorkerURL}">Login</a></p>
                              </div>
                          </section>
                      </main>
                  </div>
              </div>
              <script>
              if ('${removeTurnstile}') {
       document.getElementById('cf-turnstile-response').value= "111";
      }
                  document.addEventListener('DOMContentLoaded', function() {
                      const cdkeyInput = document.getElementById('cdkey');
                      const usernameWrapper = document.getElementById('usernameWrapper');
                      const continueBtn = document.getElementById('continueBtn');
                      const manageAccountForm = document.getElementById('manageAccountForm0');
          
                      continueBtn.addEventListener('click', function() {
                          if (cdkeyInput.value.trim() && usernameWrapper.style.display === 'none') {
                              usernameWrapper.style.display = 'block';
                          } else if (cdkeyInput.value.trim() && usernameWrapper.style.display === 'block') {
                              const usernameInput = document.getElementById('username');
                              if (usernameInput.value.trim() && document.getElementById('cf-turnstile-response').value) {
                                  manageAccountForm.submit();
                              } else if (!document.getElementById('cf-turnstile-response').value) {
                                  alert('Please complete the verification.');
                              } else {
                                  alert('Please enter your username.');
                              }
                          }
                      });
          
                      manageAccountForm.addEventListener('submit', function(event) {
                          if (!document.getElementById('cf-turnstile-response').value) {
                              alert('Please complete the verification.');
                              event.preventDefault();
                          }
                      });
                  });
          
                  function onTurnstileCallback(token) {
                      document.getElementById('cf-turnstile-response').value = token;
                  }
              <\/script>
              <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer><\/script>
          </body>
          </html>
  `;
  }
  var MAX_USERS_PER_BATCH = 5;
  async function handleUsageRequest(request) {
    if (request.method === "POST") {
      const url = new URL(request.url);
      if (url.pathname === "/usage/save") {
        const usersData = await request.json();
        await saveUsageLogs(usersData);
        return new Response("Data saved successfully.", { status: 200 });
      } else {
        const formData = await request.formData();
        const adminUsername = formData.get("adminusername");
        const queryType = formData.get("queryType");
        const turnstileResponse = formData.get("cf-turnstile-response");
        const adminUsers = await KV.get("Admin");
        if (!await verifyTurnstile(turnstileResponse)) {
          return generateUsageResponse("Turnstile verification failed");
        }
        if (adminUsers.split(",").includes(adminUsername)) {
          const logs = queryType === "plus" ? ["PlusLoginLogs"] : ["FreeLoginLogs"];
          let usersData = [];
          let uniqueUsers = /* @__PURE__ */ new Set();
          for (const log of logs) {
            const loginLogs = await KV.get(log);
            if (loginLogs) {
              const logArray = JSON.parse(loginLogs);
              const chinaTimeZone = "Asia/Shanghai";
              const today = (/* @__PURE__ */ new Date()).toLocaleDateString("en-US", { timeZone: chinaTimeZone });
              const yesterday = new Date((/* @__PURE__ */ new Date()).setDate((/* @__PURE__ */ new Date()).getDate() - 1)).toLocaleDateString("en-US", { timeZone: chinaTimeZone });
              const recentLogs = logArray.filter((log2) => {
                const logDate = new Date(log2.timestamp).toLocaleDateString("en-US", { timeZone: chinaTimeZone });
                return logDate === today || logDate === yesterday;
              });
              recentLogs.forEach((logEntry) => uniqueUsers.add(logEntry.user));
            }
          }
          const usersArray = Array.from(uniqueUsers);
          for (let i = 0; i < usersArray.length; i += MAX_USERS_PER_BATCH) {
            const batchUsers = usersArray.slice(i, i + MAX_USERS_PER_BATCH);
            const batchUsersData = await processBatchUsers(batchUsers, queryType);
            usersData = usersData.concat(batchUsersData);
          }
          const htmlResponse = await generateTableHTML(usersData, queryType);
          return new Response(htmlResponse, { headers: { "Content-Type": "text/html" } });
        } else {
          const accountNumber = await getTableToCheckAccountNumber(adminUsername, queryType);
          const accessToken = await KV.get(`at_${accountNumber}`) || "1";
          const shareToken = await getToCheckShareToken(adminUsername, accessToken);
          const queryLimit = await handleQueryRequest(accessToken, shareToken);
          return generateUsageResponse(`User: ${adminUsername}, AN: ${accountNumber}, ${queryLimit}`);
        }
      }
    } else {
      return new Response(await getTableUserHTML(), { headers: { "Content-Type": "text/html" } });
    }
  }
  async function processBatchUsers(users, queryType) {
    const usersData = await Promise.all(users.map((user) => processSingleUser(user, queryType).catch((error) => {
      console.error(`Error processing user ${user}:`, error);
      return {
        user,
        accountNumber: "Unknown",
        queryType,
        gpt4: "Error",
        gpt35: "Error"
      };
    })));
    return usersData;
  }
  async function processSingleUser(user, queryType) {
    const accountNumber = await getTableToCheckAccountNumber(user, queryType);
    const accessToken = await KV.get(`at_${accountNumber}`) || "1";
    const shareToken = await getToCheckShareToken(user, accessToken);
    const usage = await queryLimits(accessToken, shareToken);
    return {
      user,
      accountNumber,
      queryType,
      ...parseUsage(usage)
    };
  }
  function parseUsage(usage) {
    return {
      gpt4: usage.gpt4Limit !== void 0 ? usage.gpt4Limit : "N/A",
      gpt35: usage.gpt35Limit !== void 0 ? usage.gpt35Limit : "N/A"
    };
  }
  async function getTableToCheckAccountNumber(userName2, queryType) {
    const logs = queryType === "plus" ? ["PlusLoginLogs"] : ["FreeLoginLogs"];
    const lastLoginLogs = await KV.get(logs);
    if (lastLoginLogs) {
      const logArray = JSON.parse(lastLoginLogs);
      const userLogs = logArray.filter((log) => log.user === userName2);
      if (userLogs.length > 0) {
        const lastAccount = userLogs[userLogs.length - 1].accountNumber;
        return lastAccount;
      }
    }
    return "Unknown";
  }
  async function saveUsageLogs(usersData) {
    const queryType = usersData[0].queryType;
    const logType = queryType === "plus" ? "PlusUsageLogs" : "FreeUsageLogs";
    const currentLogs = await KV.get(logType);
    const logs = currentLogs ? JSON.parse(currentLogs) : [];
    const chinaTime = (/* @__PURE__ */ new Date()).toLocaleString("en-US", { timeZone: "Asia/Shanghai" });
    logs.push({ timestamp: chinaTime, usersData });
    await KV.put(logType, JSON.stringify(logs));
  }
  async function getTableUserHTML() {
    const removeTurnstile = "";//await KV.get("RemoveTurnstile") || "";
    const turnstileSiteKey = await KV.get("TurnstileSiteKey");
    return `
  <!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Query User Usage</title>
    <style>
      body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background-color: #f2f2f5;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        margin: 0;
      }
      .login-container {
        background-color: #ffffff;
        padding: 40px;
        border-radius: 12px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        max-width: 400px;
        width: 100%;
        text-align: center;
      }
      .login-container h1 {
        margin-bottom: 24px;
        font-size: 28px;
        color: #333;
        font-weight: 600;
      }
      .login-container label {
        display: block;
        font-size: 16px;
        margin-bottom: 8px;
        color: #555;
        text-align: left;
      }
      .login-container input, .login-container select, .login-container button {
        padding: 12px;
        border: 1px solid #ddd;
        border-radius: 8px;
        font-size: 16px;
        box-sizing: border-box;
        width: 100%;
        margin-bottom: 20px;
      }
      .login-container select {
        height: 48px;
      }
      .login-container .button-group {
        display: flex;
        justify-content: space-between;
      }
      .login-container .button-group button {
        width: 48%;
      }
      .login-container button {
        background-color: #007aff;
        border: none;
        color: white;
        font-size: 18px;
        cursor: pointer;
        transition: background-color 0.3s;
      }
      .login-container button:hover {
        background-color: #005fcb;
      }
      .ulp-field.ulp-error .ulp-error-info {
        margin-top: 4px;
        margin-bottom: 4px;
        display: flex;
        font-size: 14px;
        line-height: 1.4;
        text-align: left;
        color: #d00e17;
    }
    .ulp-input-error-icon {
        margin-right: 4px;
    }
    </style>
  </head>
  <body>
    <div class="login-container">
      <h1>Query User Usage</h1>
      <form id="queryUsageForm" action="/usage" method="POST">
        <input type="hidden" id="cf-turnstile-response" name="cf-turnstile-response" required>
        <label for="adminusername">Admin Username:</label>
        <input type="password" id="adminusername" name="adminusername">
        <div class="button-group">
          <button type="submit" name="queryType" value="plus">Plus Usage</button>
          <button type="submit" name="queryType" value="free">Free Usage</button>
        </div>
        <div style="height: 20px;"></div>
        <div class="cf-turnstile" data-sitekey="${turnstileSiteKey}" data-callback="onTurnstileCallback"></div>
      </form>
    </div>
    <script>
    if ('${removeTurnstile}') {
       document.getElementById('cf-turnstile-response').value= "111";
      }
    function onTurnstileCallback(token) {
      document.getElementById('cf-turnstile-response').value = token;
    }
  
    document.getElementById('queryUsageForm').addEventListener('submit', function(event) {
      if (!document.getElementById('cf-turnstile-response').value) {
        alert('Please complete the verification.');
        event.preventDefault();
      }
    });
    <\/script>
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer><\/script>
  </body>
  </html>
  `;
  }
  async function generateUsageResponse(message) {
    const errorHtml = `
    <div class="ulp-field ulp-error">
      <div class="ulp-error-info">
        <span class="ulp-input-error-icon" role="img" aria-label="Error"></span>
        ${message}
      </div>
    </div>
  `;
    const html = await getTableUserHTML();
    const responseHtml = html.replace(
      '<div class="button-group">',
      errorHtml + '<div class="button-group">'
    );
    return new Response(responseHtml, { headers: { "Content-Type": "text/html" } });
  }
  async function generateTableHTML(usersData, queryType) {
    // const logourl = await KV.get("LogoURL") || logo;
    const logourl = logo;
    const pageTitle = "Usage Chart";
    const historyData = await getHistoryData(queryType);
    let combinedData = combineData(usersData, historyData);
    let headerRow = generateHeaderRow(historyData);
    let timestampRow = generateTimestampRow(historyData);
    let rows = combinedData.map((user) => `
  <tr class="user-row">
    <td class="user-sticky user-name">${user.user}</td>
    ${user.historyUsage.map((usage) => `<td>${usage.gpt4}</td><td>${usage.gpt35}</td>`).join("")}
    <td>${user.realTimeUsage.gpt4}</td>
    <td>${user.realTimeUsage.gpt35}</td>
  </tr>`).join("");
    return `
  <!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>User Usage</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f2f2f5;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      .header {
        display: flex;
        align-items: center;
        margin: 20px;
        width: 80%;
      }
      .logo {
        height: 50px;
        margin-right: 20px;
      }
      .title {
        font-size: 24px;
        font-weight: bold;
      }
      .table-container {
        width: 80%;
        overflow-x: auto;
        margin: 20px 0;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        font-size: 18px;
        text-align: left;
        position: relative;
        min-width: 800px;
      }
      th, td {
        padding: 12px;
        border: 1px solid #ddd;
      }
      th {
        background-color: #007aff;
        color: white;
      }
      .button-group {
        position: absolute;
        top: 20px;
        right: 20px;
      }
      .button {
        margin-left: 10px;
        padding: 5px 10px;
        background-color: #007aff;
        color: white;
        border: none;
        cursor: pointer;
        font-size: 14px;
        border-radius: 5px;
      }
      .user-name.masked {
        filter: blur(5px);
      }
      th.user-sticky, td.user-sticky {
        position: sticky;
        left: 0;
        color: white;
        background-color: #007aff;
        z-index: 100;
      }
    </style>
  </head>
  <body>
    <div class="header">
      <img src="${logourl}" alt="Logo" class="logo">
      <div class="title">${pageTitle}</div>
    </div>
    <div class="button-group">
      <button class="button" onclick="toggleMask()">Mask/Unmask</button>
      <button class="button" onclick="saveData()">Save</button>
    </div>
    <div class="table-container">
      <table>
      <tr>
      <th class="user-sticky">User</th>
      ${timestampRow}
      <th colspan="2">Real-Time Usage</th>
    </tr>
    <tr>
      <th class="user-sticky"></th>
      ${headerRow}
      <th>GPT-4</th>
      <th>GPT-3.5</th>
    </tr>
        ${rows}
      </table>
    </div>
    <script>
      let isMasked = false;
  
      function toggleMask() {
        isMasked = !isMasked;
        const userNames = document.querySelectorAll('.user-name');
        userNames.forEach(userName => {
          if (isMasked) {
            userName.classList.add('masked');
          } else {
            userName.classList.remove('masked');
          }
        });
      }
  
      function saveData() {
        fetch('/usage/save', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(${JSON.stringify(usersData)})
        })
        .then(response => response.text())
        .then(result => alert(result))
        .catch(error => console.error('Error:', error));
      }
  
      document.querySelectorAll('.user-row').forEach(row => {
        row.addEventListener('mouseover', function() {
          if (isMasked) {
            this.querySelector('.user-name').classList.remove('masked');
          }
        });
        row.addEventListener('mouseout', function() {
          if (isMasked) {
            this.querySelector('.user-name').classList.add('masked');
          }
        });
      });
    <\/script>
  </body>
  </html>
  
  `;
  }
  function generateHeaderRow(historyData) {
    return historyData.map((h) => `<th>GPT-4</th><th>GPT-3.5</th>`).join("");
  }
  function generateTimestampRow(historyData) {
    return historyData.map((h) => `<th colspan="2">${h.timestamp}</th>`).join("");
  }
  async function getHistoryData(queryType) {
    const logType = queryType === "plus" ? "PlusUsageLogs" : "FreeUsageLogs";
    const historyLogs = await KV.get(logType);
    return historyLogs ? JSON.parse(historyLogs) : [];
  }
  function combineData(usersData, historyData) {
    let combinedData = [];
    let allUsers = new Set(usersData.map((u) => u.user).concat(historyData.flatMap((h) => h.usersData.map((u) => u.user))));
    allUsers.forEach((user) => {
      let historyUsage = historyData.map((h) => {
        let userUsage = h.usersData.find((u) => u.user === user);
        return userUsage ? { gpt4: userUsage.gpt4, gpt35: userUsage.gpt35 } : { gpt4: "", gpt35: "" };
      });
      let realTimeUsage = usersData.find((u) => u.user === user);
      combinedData.push({
        user,
        historyUsage,
        realTimeUsage: realTimeUsage ? { gpt4: realTimeUsage.gpt4, gpt35: realTimeUsage.gpt35 } : { gpt4: "", gpt35: "" }
      });
    });
    return combinedData;
  }
  async function handleLoginGetRequest(request) {
    // const url = new URL(request.url);
    // const params = new URLSearchParams(url.search);
    // const userName2 = params.get("un");
    const setan = await KV.get("SetAN");
    // const accountNumber = params.get("an-custom") || params.get("an") || "1";
    // if (userName2) {
    //   return await handleLogin(userName2, accountNumber, "do not need Turnstle", "");
    // } else {
      
    const html = await getLoginHTML(setan);
    return new Response(html, { headers: { "Content-Type": "text/html" } });
    // }
  }
  async function randomAliveAccountOptions() {
    const plusAliveAccountString = await KV.get("PlusAliveAccounts") || "";
    const freeAliveAccountString = await KV.get("FreeAliveAccounts") || "";
    const aliveAccountString = `${plusAliveAccountString},${freeAliveAccountString}`.replace(/^,|,$/g, "");
    const aliveAccounts = aliveAccountString.split(",").map((num) => parseInt(num, 10)).filter((num) => !isNaN(num));
    
    if (aliveAccounts.length === 0) {
      return "1"; // 或者返回其他适当的值来表示没有有效数字
    }
    
    const randomIndex = Math.floor(Math.random() * aliveAccounts.length);
    return aliveAccounts[randomIndex].toString();
  }
  async function handleLoginPostRequest(request) {
    const formData = await request.formData();
    const userName2 = formData.get("un");
    const anissues = formData.get("anissues") === "on";
    const accountNumber = formData.get("an-custom") || formData.get("an") || randomAliveAccountOptions();
    const turnstileResponse = formData.get("cf-turnstile-response");
    return await handleLogin(userName2, accountNumber, turnstileResponse, anissues);
  }
  function isTokenExpired(token) {
    if (!token || token === "Bad_RT" || token === "Bad_AT") {
      return true;
    }
    const payload = parseJwt(token);
    const currentTime = Math.floor(Date.now() / 1e3);
    return payload.exp < currentTime;
  }
  async function getOAuthLink(shareToken, proxiedDomain) {
    const url = `https://new.oaifree.com/api/auth/oauth_token`;
    const response = await fetch(url, {
      method: "POST",
      headers: {
        "Origin": `https://${proxiedDomain}`,
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        share_token: shareToken
      })
    });
    const data = await response.json();
    return data.login_url;
  }
  async function getShareToken(userName2, accessToken, accountNumber) {
    const url = "https://chat.oaifree.com/token/register";
    const isAdmin = await usermatch(userName2, "Admin") || userName2 == "atdirect";
    // const isTemporary = await usermatch(accountNumber, "TemporaryAN") && !isAdmin;
    const passwd = await generatePassword(userName2);
    const body = new URLSearchParams({
      access_token: accessToken,
      // 使用从全局变量中获取的 accessToken
      unique_name: passwd,
      //前缀+无后缀用户名
      site_limit: "",
      // 限制的网站
      expires_in:  "0",
      // token有效期（单位为秒），填 0 则永久有效
      gpt35_limit: "-1",
      // gpt3.5 对话限制
      gpt4_limit:  "-1",
      // gpt4 对话限制，-1为不限制
      show_conversations: isAdmin ? "true" : "false",
      // 是否显示所有人的会话
      temporary_chat:  "false",
      //默认启用临时聊天
      show_userinfo: isAdmin ? "true" : "false",
      // 是否显示用户信息
      reset_limit: "false"
      // 是否重置对话限制
    }).toString();
    const apiResponse = await fetch(url, {
      method: "POST",
      headers: {
        "Content-Type": "application/x-www-form-urlencoded"
      },
      body
    });
    const responseText = await apiResponse.text();
    const tokenKeyMatch = /"token_key":"([^"]+)"/.exec(responseText);
    const tokenKey = tokenKeyMatch ? tokenKeyMatch[1] : "Can not get share token.";
    return tokenKey;
  }
  async function handleLogin(userName2, initialaccountNumber, turnstileResponse, anissues) {
    if (turnstileResponse !== "do not need Turnstle" && (!turnstileResponse || !await verifyTurnstile(turnstileResponse))) {
      return generateLoginResponse("Turnstile verification failed");
    }
    const proxiedDomain = myWorkerURL;//await KV.get("WorkerURL");
    const status = await KV.get("Status");
    const GPTState = await getGPTStatus();
    if (GPTState == "major_performance" && !status) {
      await loginlog(userName2, "Bad_OAIStatus", "Error");
      return generateLoginResponse(`OpenAI service is under maintenance.<br>Official status: ${GPTState} <br>More details: https://status.openai.com`);
    }
    // try {
    //   const tokenData = JSON.parse(userName2);
    //   if (tokenData.accessToken) {
    //     const jsonAccessToken = tokenData.accessToken;
    //     const shareToken2 = await getShareToken("atdirect", jsonAccessToken, "0");
    //     if (shareToken2 === "Can not get share token.") {
    //       return generateLoginResponse("Error fetching share token.");
    //     }
    //     return Response.redirect(await getOAuthLink(shareToken2, proxiedDomain), 302);
    //   }
    // } catch (e) {
    // }
    if (userName2.length > 50) {
      const shareToken2 = await getShareToken("atdirect", userName2, "0");
      if (shareToken2 === "Can not get share token.") {
        return generateLoginResponse("Error fetching share token.");
      }
      return Response.redirect(await getOAuthLink(shareToken2, proxiedDomain), 302);
    }
    if (userName2.startsWith("fk-")) {
      const shareToken2 = userName2;
      return Response.redirect(await getOAuthLink(shareToken2, proxiedDomain), 302);
    }
    const userRegex = new RegExp(`^${userName2}_(\\d+)$`);
    let fullUserName = userName2;
    let foundSuffix = false;
    let suffix = "";
    const forcean = await KV.get("ForceAN");
    const defaultusers = await KV.get("Users") || "";
    const freeusers = await KV.get("FreeUsers") || "";
    const admin = await KV.get("Admin") || "";
    const users = `${defaultusers},${freeusers},${admin}`;
    users.split(",").forEach((user) => {
      const match = user.match(userRegex);
      if (match) {
        foundSuffix = true;
        suffix = match[1];
        fullUserName = user;
      }
    });
    if (!foundSuffix && !users.split(",").includes(userName2)) {
      await loginlog(userName2, "Bad_PW", "Error");
      return generateLoginResponse("Unauthorized access.");
    }
    // if (!users.split(",").includes(fullUserName)) {
    //   await loginlog(userName2, "Bad_PW", "Error");
    //   return generateLoginResponse("Unauthorized access.");
    // }
    const setan = await KV.get("SetAN");
    let antype = "Plus";
    let mode = "";
    let accountNumber = "";
    if (foundSuffix && forcean === "1") {
      accountNumber = await getAccountNumber(fullUserName, suffix, antype, "Check", anissues);
    } else {
      if (setan == "True") {
        const plusmode = await KV.get("PlusMode");
        const freemode = await KV.get("FreeMode");
        antype = "Plus";
        mode = plusmode;
        if (freemode !== "Plus") {
          if (freeusers.split(",").includes(fullUserName)) {
            antype = "Free";
            mode = freemode;
          }
        }
        accountNumber = await getAccountNumber(fullUserName, initialaccountNumber, antype, mode, anissues);
      } else if (setan) {
        accountNumber = await getAccountNumber(fullUserName, setan, antype, "Check", anissues);
      } else {
        accountNumber = await getAccountNumber(fullUserName, initialaccountNumber, antype, "Check", anissues);
      }
    }
    const refreshTokenKey = `rt_${accountNumber}`;
    const accessTokenKey = `at_${accountNumber}`;
    const accessToken = await KV.get(accessTokenKey);
    if (accessToken) {
      if (accessToken.startsWith("fk-")) {
        const fkDomain = await KV.get("FKDomain") || proxiedDomain;
        return Response.redirect(`https://${fkDomain}/auth/login_share?token=${accessToken}`);
      }
    }
    if (isTokenExpired(accessToken)) {
      const url = "https://token.oaifree.com/api/auth/refresh";
      const refreshToken = await KV.get(refreshTokenKey);
      if (refreshToken) {
        const response2 = await fetch(url, {
          method: "POST",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8"
          },
          body: `refresh_token=${refreshToken}`
        });
        if (response2.ok) {
          const data = await response2.json();
          const newAccessToken = data.access_token;
          await KV.put(accessTokenKey, newAccessToken);
        } else {
          await KV.put(accessTokenKey, "Bad_RT");
          await loginlog(fullUserName, `Bad RT_${accountNumber}`, "Error");
          return generateLoginResponse("Error fetching access token.");
        }
      } else {
        return generateLoginResponse("The current access token has not been updated.");
      }
    }
    const finalaccessToken = await KV.get(accessTokenKey);
    const shareToken = await getShareToken(fullUserName, finalaccessToken, accountNumber);
    if (shareToken === "Can not get share token.") {
      await loginlog(fullUserName, `Bad AT_${accountNumber}`, "Error");
      return generateLoginResponse("Error fetching share token.");
    }
    await loginlog(fullUserName, accountNumber, antype);
    const oauthLink = await getOAuthLink(shareToken, proxiedDomain);

    const expirationDate = new Date();
    expirationDate.setDate(expirationDate.getDate() + 7);
    const expires = expirationDate.toUTCString();
    
    const headers = new Headers();
    headers.append("Location", oauthLink);
    headers.append("Set-Cookie", `aian=${accountNumber}; Expires=${expires};Path=/`);
    headers.append("Set-Cookie", `username=${fullUserName}; Expires=${expires};Path=/`);
    const response = new Response(null, {
      status: 302,
      headers
    });
    return response;
  }
  async function loginlog(userName2, accountNumber, antype) {
    const currentTime = (/* @__PURE__ */ new Date()).toLocaleString("zh-CN", { timeZone: "Asia/Shanghai" });
    const timestamp = Date.now();
    const logEntry = {
      user: userName2,
      accountNumber,
      time: currentTime,
      timestamp
    };
    const lastLoginLogs = await KV.get(`${antype}LoginLogs`);
    let logArray = [];
    if (lastLoginLogs) {
      logArray = JSON.parse(lastLoginLogs);
    }
    logArray.push(logEntry);
    await KV.put(`${antype}LoginLogs`, JSON.stringify(logArray));
  }
  async function deletelog(userName2, accountNumber, antype) {
    const currentTime = (/* @__PURE__ */ new Date()).toLocaleString("zh-CN", { timeZone: "Asia/Shanghai" });
    const logEntry = {
      user: userName2,
      time: currentTime,
      accountNumber
    };
    const lastDeleteLogs = await KV.get(`${antype}DeleteLogs`);
    let logArray = [];
    if (lastDeleteLogs) {
      logArray = JSON.parse(lastDeleteLogs);
    }
    logArray.push(logEntry);
    await KV.put(`${antype}DeleteLogs`, JSON.stringify(logArray));
  }
  async function getAccountNumber(userName2, initialaccountNumber, antype, mode, anissues) {
    if (mode == "Check") {
      // await checkAndRemoveIssueAccount(initialaccountNumber);
      return initialaccountNumber;
    }
    const currentTime = Date.now();
    const Milliseconds = 3 * 60 * 1e3;
    const checkAndRemoveIssueAccount = async (accountNumber) => {
      const lastLoginLogs = await KV.get(`${antype}LoginLogs`);
      if (lastLoginLogs) {
        const logArray = JSON.parse(lastLoginLogs);
        const userLogs = logArray.filter((log) => log.user === userName2 && log.accountNumber === accountNumber);
        if (userLogs.length > 0) {
          const recentLogins = userLogs.filter((log) => {
            const logTime = log.timestamp;
            return currentTime - logTime <= Milliseconds;
          });
          if (recentLogins.length >= 1 && anissues) {
            const aliveAccount = await KV.get(`${antype}AliveAccounts`);
            let aliveAccountList = aliveAccount.split(",");
            aliveAccountList = aliveAccountList.filter((acc) => acc !== accountNumber.toString());
            await KV.put(`${antype}AliveAccounts`, aliveAccountList.join(","));
            await deletelog(userName2, accountNumber, antype);
            return true;
          }
        }
      }
      return false;
    };
    if (mode == "Order") {
      const aliveAccountString = await KV.get(`${antype}AliveAccounts`) || "";
      let aliveAccounts = aliveAccountString.split(",").map((num) => parseInt(num, 10)).filter((num) => !isNaN(num));
      if (aliveAccounts.length > 0) {
        let minAccount = Math.min(...aliveAccounts);
        if (await checkAndRemoveIssueAccount(minAccount)) {
          aliveAccounts = aliveAccounts.filter((acc) => acc !== minAccount);
          minAccount = aliveAccounts.length > 0 ? Math.min(...aliveAccounts) : 1;
        }
        return minAccount;
      }
      return 1;
    }
    if (mode == "Random") {
      const lastLoginLogs = await KV.get(`${antype}LoginLogs`);
      if (lastLoginLogs) {
        const logArray = JSON.parse(lastLoginLogs);
        const userLogs = logArray.filter((log) => log.user === userName2);
        const recentLogins = userLogs.filter((log) => {
          const logTime = log.timestamp;
          return currentTime - logTime <= Milliseconds;
        });
        if (recentLogins.length > 0) {
          const lastAccount = recentLogins[recentLogins.length - 1].accountNumber;
          if (await checkAndRemoveIssueAccount(lastAccount)) {
            const aliveAccountString2 = await KV.get(`${antype}AliveAccounts`) || "";
            const aliveAccounts2 = aliveAccountString2.split(",").map((num) => parseInt(num, 10)).filter((num) => !isNaN(num));
            if (aliveAccounts2.length > 0) {
              const randomAccount = aliveAccounts2[Math.floor(Math.random() * aliveAccounts2.length)];
              return randomAccount;
            }
            return 0;
          }
          return lastAccount;
        }
      }
      const aliveAccountString = await KV.get(`${antype}AliveAccounts`) || "";
      let aliveAccounts = aliveAccountString.split(",").map((num) => parseInt(num, 10)).filter((num) => !isNaN(num));
      if (aliveAccounts.length > 0) {
        let randomAccount = aliveAccounts[Math.floor(Math.random() * aliveAccounts.length)];
        if (await checkAndRemoveIssueAccount(randomAccount)) {
          aliveAccounts = aliveAccounts.filter((acc) => acc !== randomAccount);
          if (aliveAccounts.length > 0) {
            randomAccount = aliveAccounts[Math.floor(Math.random() * aliveAccounts.length)];
            return randomAccount;
          }
          return 0;
        }
        return randomAccount;
      }
      return 0;
    }
    return initialaccountNumber;
  }
  async function generateLoginResponse(message) {
    const setan = await KV.get("SetAN");
    const errorHtml = `
   <div class="ulp-field ulp-error">
     <div class="ulp-error-info">
       <span class="ulp-input-error-icon" role="img" aria-label="Error"></span>
       ${message}
     </div>
   </div>
   `;
    const html = await getLoginHTML(setan);
    const responseHtml = html.replace(
      '<button class="continue-btn" type="submit">Continue</button>',
      errorHtml + '<button class="continue-btn" type="submit">Continue</button>'
    );
    return new Response(responseHtml, { headers: { "Content-Type": "text/html" } });
  }
  async function getAliveAccountOptions() {
    const plusAliveAccountString = await KV.get("PlusAliveAccounts") || "";
    const freeAliveAccountString = await KV.get("FreeAliveAccounts") || "";

    const plusAliveAccounts = plusAliveAccountString.split(",").map(num => ({
        num: parseInt(num, 10),
        type: 'plus'
    })).filter(account => !isNaN(account.num));

    const freeAliveAccounts = freeAliveAccountString.split(",").map(num => ({
        num: parseInt(num, 10),
        type: 'free'
    })).filter(account => !isNaN(account.num));

    const aliveAccounts = plusAliveAccounts.concat(freeAliveAccounts);

    return aliveAccounts.map(account => `<option value="${account.num}">${account.type}${account.num}</option>`).join("");
}

  async function getGPTStatus() {
    const url = "https://status.openai.com/api/v2/summary.json";
    const response = await fetch(url, {
      method: "GET",
      headers: {
        "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8"
      }
    });
    if (response.ok) {
      const data = await response.json();
      const status = data.components.find((component) => component.name === "ChatGPT");
      return status.status;
    } else {
      return "operational";
    }
  }
  async function getLoginHTML(setan) {
    const WorkerURL = myWorkerURL;//await KV.get("WorkerURL");
    const turnstileSiteKey = await KV.get("TurnstileSiteKey");
    const websiteName = await KV.get("WebName") || "Haibara AI";
    // const logourl = await KV.get("LogoURL") || logo;
    const logourl = logo;
    const removeTurnstile = "";//await KV.get("RemoveTurnstile") || "";
    const commonHTML = `
     <!DOCTYPE html>
     <html lang="en">
     <head>
         <meta charset="UTF-8">
         <link rel="apple-touch-icon" sizes="180x180" href="https://cdn1.oaifree.com/_next/static/media/apple-touch-icon.82af6fe1.png"/>
         <link rel="icon" type="image/png" sizes="32x32" href="https://cdn4.oaifree.com/_next/static/media/favicon-32x32.630a2b99.png"/>
         <link rel="icon" type="image/png" sizes="16x16" href="https://cdn4.oaifree.com/_next/static/media/favicon-16x16.a052137e.png"/>
         <meta name="viewport" content="width=device-width, initial-scale=1.0">
         <title>Login - ${websiteName}</title>
         <style>
             @charset "UTF-8";
             .oai-header img {
                 height: auto;
                 width: 128px;
                 margin-top: 50px;
             }
 
             a {
                 font-weight: 400;
                 text-decoration: inherit;
                 color: #10a37f;
             }
 
             .main-container {
                 flex: 1 0 auto;
                 min-height: 0;
                 display: grid;
                 box-sizing: border-box;
                 grid-template-rows: [left-start center-start right-start] 1fr [left-end center-end right-end];
                 grid-template-columns: [left-start center-start] 1fr [left-end right-start] 1fr [center-end right-end];
                 align-items: center;
                 justify-content: center;
                 justify-items: center;
                 grid-column-gap: 160px;
                 column-gap: 160px;
                 padding: 80px;
                 width: 100%;
             }
 
             .login-container {
                 background-color: #fff;
                 padding: 0 40px 40px;
                 border-radius: 3px;
                 box-shadow: none;
                 width: 320px;
                 box-sizing: content-box;
                 flex-shrink: 0;
             }
 
             .title-wrapper {
                 padding: 0 40px 24px;
                 box-sizing: content-box;
                 text-align: center;
             }
 
             .title {
                 font-size: 32px;
                 font: 'S\xF6hne';
                 margin: 0;
                 color: #2d333a;
                 width: 320px;
             }
 
             .input-wrapper {
                 position: relative;
                 margin-bottom: 10px;
                 width: 320px;
                 box-sizing: content-box;
             }
 
             .email-input {
                 -webkit-appearance: none;
                 -moz-appearance: none;
                 appearance: none;
                 background-color: #fff;
                 border: 1px solid #c2c8d0;
                 border-radius: 6px;
                 box-sizing: border-box;
                 color: #2d333a;
                 font-family: inherit;
                 font-size: 16px;
                 height: 52px;
                 line-height: 1.1;
                 outline: none;
                 padding-block: 1px;
                 padding-inline: 2px;
                 padding: 0 16px;
                 transition:
                     box-shadow 0.2s ease-in-out,
                     border-color 0.2s ease-in-out;
                 width: 100%;
                 text-rendering: auto;
                 letter-spacing: normal;
                 word-spacing: normal;
                 text-transform: none;
                 text-indent: 0px;
                 text-shadow: none;
                 display: inline-block;
                 text-align: start;
                 margin: 0;
             }
 
             .email-input:focus,
             .email-input:valid {
                 border: 1px solid #10a37f;
                 outline: none;
             }
 
             .email-input:focus-within {
                 box-shadow: 1px #10a37f;
             }
 
             .email-input:focus + .email-label,
             .email-input:valid + .email-label {
                 font-size: 14px;
                 top: 0;
                 left: 10px;
                 color: #10a37f;
                 background-color: #fff;
             }
 
             .email-label {
                 position: absolute;
                 top: 26px;
                 left: 16px;
                 background-color: #fff;
                 color: #6f7780;
                 font-size: 16px;
                 font-weight: 400;
                 margin-bottom: 8px;
                 max-width: 90%;
                 overflow: hidden;
                 pointer-events: none;
                 padding: 1px 6px;
                 text-overflow: ellipsis;
                 transform: translateY(-50%);
                 transform-origin: 0;
                 transition:
                     transform 0.15s ease-in-out,
                     top 0.15s ease-in-out,
                     padding 0.15s ease-in-out;
                 white-space: nowrap;
                 z-index: 1;
             }
 
             .continue-btn {
                 position: relative;
                 height: 52px;
                 width: 320px;
                 background-color: #10a37f;
                 color: #fff;
                 margin: 10px 0 0;
                 align-items: center;
                 justify-content: center;
                 display: flex;
                 border-radius: 6px;
                 padding: 4px 16px;
                 font: inherit;
                 border-width: 0px;
                 cursor: pointer;
             }
             .choose-account {
              -webkit-appearance: none;
              -moz-appearance: none;
              appearance: none;
              background-color: #fff;
              border: 1px solid #c2c8d0;
              border-radius: 6px;
              box-sizing: border-box;
              color: #2d333a;
              font-family: inherit;
              font-size: 16px;
              height: 52px;
              line-height: 1.1;
              outline: none;
              padding-block: 1px;
              padding-inline: 2px;
              padding: 0 16px;
              transition:
                  box-shadow 0.2s ease-in-out,
                  border-color 0.2s ease-in-out;
              width: 100%;
              text-rendering: auto;
              letter-spacing: normal;
              word-spacing: normal;
              text-transform: none;
              text-indent: 0px;
              text-shadow: none;
              display: inline-block;
              text-align: start;
              margin: 0;
          }

          .choose-account:focus {
              border: 1px solid #10a37f;
              outline: none;
          }

          .choose-account:focus-within {
              box-shadow: 1px #10a37f;
          }
          .username-label {
                 font-size: 14px;
                 top: 0;
                 left: 10px;
                 color: #10a37f;
                 background-color: #fff;
             }
 
             .continue-btn:hover {
                 box-shadow: inset 0 0 0 150px #0000001a;
             }
 
             :root {
                 font-family:
                     S\xF6hne,
                     -apple-system,
                     BlinkMacSystemFont,
                     Helvetica,
                     sans-serif;
                 line-height: 1.5;
                 font-weight: 400;
                 font-synthesis: none;
                 text-rendering: optimizeLegibility;
                 -webkit-font-smoothing: antialiased;
                 -moz-osx-font-smoothing: grayscale;
             }
 
             .page-wrapper {
                 display: flex;
                 flex-direction: column;
                 justify-content: space-between;
                 min-height: 100%;
             }
 
             .oai-header {
                 display: flex;
                 justify-content: center;
                 align-items: center;
                 width: 100%;
                 background-color: #fff;
             }
 
             body {
                 background-color: #fff;
                 display: block;
                 margin: 0;
             }
 
             .content-wrapper {
                 display: flex;
                 flex-direction: column;
                 align-items: center;
                 justify-content: center;
                 width: 100%;
                 height: auto;
                 white-space: normal;
                 border-radius: 5px;
                 position: relative;
                 grid-area: center;
                 box-shadow: none;
                 vertical-align: baseline;
                 box-sizing: content-box;
             }
 
             .checkbox-wrapper {
                 margin: 20px 0;
                 display: flex;
                 align-items: center;
             }
 
             .checkbox-label {
                 margin-left: 8px;
                 font-weight: 600;
                 color: #6f7780;
                 font-size: 14px;
             }
 
             .help-icon {
                 display: inline-block;
                 margin-left: 5px;
                 color: #10a37f;
                 cursor: pointer;
                 font-weight: bold;
             }
 
             .tooltip {
                 visibility: hidden;
                 min-width: 140px;
                 max-width: 300px;
                 line-height: 20px; 
                 min-height: 90px; 
                 display: flex;
                 align-items: center;
                 justify-content: center;
                 background-color: black;
                 color: #fff;
                 text-align: center;
                 border-radius: 6px;
                 
                 position: absolute;
                 z-index: 1;
                 bottom: 150%;
                 left: 50%;
                 margin-left: -70px; /* Half of the width to center the tooltip */
                 opacity: 0;
                 transition: opacity 0.3s, visibility 0.3s ease-in-out;
             }
 
             .tooltip::after {
                 content: "";
                 position: absolute;
                 top: 100%;
                 left: 50%;
                 margin-left: -5px;
                 border-width: 5px;
                 border-style: solid;
                 border-color: black transparent transparent transparent;
             }
 
 
             .choose-account select {
                 flex: 3;
                 padding: 12px;
                 border: 1px solid #c2c8d0;
                 border-radius: 6px 0 0 6px;
                 font-size: 16px;
             }
 
             .choose-account input[type="number"] {
                 flex: 1;
                 padding: 12px;
                 border: 1px solid #c2c8d0;
                 border-radius: 0 6px 6px 0;
                 font-size: 16px;
             }
 
             .cf-turnstile {
                 display: flex;
                 justify-content: center;
                 margin-top: 10px;
             }
             .other-page {
                 text-align: center;
                 margin-top: 14px;
                 margin-bottom: 0;
                 font-size: 14px;
                 width: 320px;
                 }
                 .divider-wrapper {
                     display: flex;
                     flex-direction: row;
                     text-transform: uppercase;
                     border: none;
                     font-size: 12px;
                     font-weight: 400;
                     margin: 0;
                     padding: 24px 0 0;
                     align-items: center;
                     justify-content: center;
                     width: 320px;
                     vertical-align: baseline;
                     }
                     
                     .divider-wrapper:before {
                         content: "";
                         border-bottom: 1px solid #c2c8d0;
                         flex: 1 0 auto;
                         height: .5em;
                         margin:0
                     }
                      .divider-wrapper:after{
                         content: "";
                         border-bottom: 1px solid #c2c8d0;
                         flex: 1 0 auto;
                         height: .5em;
                         margin:0
                     }
                     .divider {
                         text-align: center;
                         flex: .2 0 auto;
                         margin: 0;
                         height:12px
                     }
                     .checkbox-wrapper {
                         margin: 0px 0;
                         display: flex;
                         align-items: center;
                     }
                     .checkbox-label {
                         margin-left: 8px;
                         font-weight: 400;
                         color: #6f7780;
                         font-size: 14px;
                     }
                     .ulp-field.ulp-error .ulp-error-info {
                       margin-top: 4px;
                       margin-bottom: 4px;
                       display: flex;
                       font-size: 14px;
                       line-height: 1.4;
                       text-align: left;
                       color: #d00e17;
                   }
                   
                   .ulp-input-error-icon {
                       margin-right: 4px;
                   }
                   .ulp-input-error-icon::before {
                       content: "\u{1F6AB}";
                       margin-right: 0px;
                     }
                     .footer {
                      text-align: center;
                      font-size: 12px;
                      padding: 10px;
                  }
          
                  .footer a {
                      color: black;
                      text-decoration: none;
                  }
          
                  .footer a:hover {
                      text-decoration: none;
                      color: black;
                  }
      
             
         </style>
     </head>
     <body>
         <div id="root">
             <div class="page-wrapper">
                 <header class="oai-header">
                     <a href="https://${WorkerURL}/admin">
                         <img src="${logourl}" alt="Logo">
                     </a>
                 </header>
                 <main class="main-container">
                     <section class="content-wrapper">
                         <div class="title-wrapper"><h1 class="title">${websiteName}</h1></div>
                         <div class="login-container">
                             <form id="manageAccountForm0" action="/auth/login_auth0" method="POST">
                                 <div class="input-wrapper">
                                     <input
                                         class="email-input"
                                         inputmode="email"
                                         type="text"
                                         id="un"
                                         name="un"
                                         autocomplete="username"
                                         autocapitalize="none"
                                         spellcheck="false"
                                         required
                                         placeholder=" "
                                     />
                                     <label class="email-label" for="un">Username</label>
                                 </div>`;
    const aliveAccountOptions = await getAliveAccountOptions();
    const accountNumberHTML = `
                                 <div class="input-wrapper">
                                    <label for="an">
                                        <a class="username-label">Account:</a>
                                    </label>
                                    <select id="an" name="an" class="choose-account">
                                      <option value="" selected disabled hidden>Select Account</option>
                                        ${aliveAccountOptions}
                                    </select>
                                 </div>`;
    const commonHTML2 = `
                                <!-- <div class="checkbox-wrapper">
                                     <input type="checkbox" id="an-issues" name="anissues" />
                                     <label class="checkbox-label" for="an-issues">Report Account Issues</label>
                                 </div> -->
                                 <button class="continue-btn" type="submit">Continue</button>
                                 <input type="hidden" id="cf-turnstile-response" name="cf-turnstile-response" required>
                                 <div class="cf-turnstile" data-sitekey="${turnstileSiteKey}" data-callback="onTurnstileCallback"></div>
                             </form>
                             <div class="divider-wrapper"><span class="divider">Or</span></div>
                             <p class="other-page">Don't have an account? <a class="other-page-link" href="https://${WorkerURL}/register">Sign Up</a></p>
                         </div>
                     </section>
                 </main>
             </div>
         </div>
            
         <script>
         if ('${removeTurnstile}') {
       document.getElementById('cf-turnstile-response').value= "111";
      }
             document.addEventListener('DOMContentLoaded', function() {
                 const helpIcon = document.querySelector('.help-icon');
                 const tooltip = document.createElement('div');
                 tooltip.className = 'tooltip';
                 tooltip.textContent = 'Select your account. Chat histories are not shared between accounts. Other users cannot view your chat history.';
                 document.body.appendChild(tooltip);
 
                 helpIcon.addEventListener('mouseover', function() {
                     tooltip.style.visibility = 'visible';
                     tooltip.style.opacity = '1';
                     const rect = helpIcon.getBoundingClientRect();
                     tooltip.style.top = (rect.top - tooltip.offsetHeight - 10) + 'px';
                     tooltip.style.left = (rect.left + rect.width / 2 - tooltip.offsetWidth / 2) + 'px';
                 });
 
                 helpIcon.addEventListener('mouseout', function() {
                     tooltip.style.visibility = 'hidden';
                     tooltip.style.opacity = '0';
                 });
             });
 
             function onTurnstileCallback(token) {
                 document.getElementById('cf-turnstile-response').value = token;
             }
 
             document.getElementById('manageAccountForm0').addEventListener('submit', function(event) {
                 if (!document.getElementById('cf-turnstile-response').value) {
                     alert('Please complete the verification.');
                     event.preventDefault();
                 }
             });
         <\/script>
         <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer><\/script>
     </body>
     </html>`;
    return setan ? commonHTML + commonHTML2 : commonHTML + accountNumberHTML + commonHTML2;
  }
})();
//# sourceMappingURL=_worker.js.map
